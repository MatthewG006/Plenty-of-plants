(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[940],{968:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]])},1834:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>h,Es:()=>m,HM:()=>d,L3:()=>p,c7:()=>x,lG:()=>o,rr:()=>f});var r=s(5155),a=s(2115),l=s(3409),i=s(5229),n=s(4269);let o=l.bL;l.l9;let c=l.ZL,d=l.bm,u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a})});u.displayName=l.hJ.displayName;let h=a.forwardRef((e,t)=>{let{className:s,children:a,...o}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(l.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...o,children:[a,(0,r.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=l.UC.displayName;let x=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};x.displayName="DialogHeader";let m=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};m.displayName="DialogFooter";let p=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...a})});p.displayName=l.hE.displayName;let f=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});f.displayName=l.VY.displayName},1847:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(2115);let a=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ")};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...h}=e;return(0,r.createElement)("svg",{ref:t,...l,width:i,height:i,stroke:s,strokeWidth:o?24*Number(n)/Number(i):n,className:a("lucide",c),...h},[...u.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),n=(e,t)=>{let s=(0,r.forwardRef)((s,l)=>{let{className:n,...o}=s;return(0,r.createElement)(i,{ref:l,iconNode:t,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),n),...o})});return s.displayName="".concat(e),s}},2260:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>T});var r=s(5155),a=s(3998),l=s(6948),i=s(5894),n=s(3940),o=s(1847);let c=(0,o.A)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);var d=s(5299),u=s(8055),h=s(5322);let x=(0,o.A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var m=s(6983);let p=(0,o.A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var f=s(5937);let g=(0,o.A)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var y=s(1503),v=s(968),j=s(9559),w=s(5740),N=s(9347),b=s(2115),k=s(9689),A=s(6259),C=s(4901),S=s(9285),R=s(1834);function E(){let e=new Date,t=new Date(e);t.setDate(t.getDate()+1),t.setHours(0,0,0,0);let s=t.getTime()-e.getTime(),r=Math.floor(s/36e5),a=Math.floor(s%36e5/6e4);return"".concat(r,"h ").concat(a,"m")}function M(e){let{open:t,onOpenChange:s,onSkip:l,countdown:i}=e;return(0,r.jsx)(R.lG,{open:t,onOpenChange:s,children:(0,r.jsxs)(R.Cf,{className:"max-w-md p-0",onPointerDownOutside:e=>e.preventDefault(),children:[(0,r.jsx)(R.c7,{children:(0,r.jsx)(R.L3,{className:"sr-only",children:"Video Ad"})}),(0,r.jsxs)("div",{className:"aspect-video bg-black flex flex-col items-center justify-center text-white relative",children:[(0,r.jsx)(c,{className:"w-16 h-16 text-muted-foreground"}),(0,r.jsx)("p",{className:"text-lg font-semibold mt-4",children:"Video Ad Placeholder"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your ad would be shown here."}),(0,r.jsx)("div",{className:"absolute bottom-4 right-4",children:i>0?(0,r.jsxs)("p",{className:"text-sm bg-black/50 rounded-full px-3 py-1",children:["Reward in ",i,"..."]}):(0,r.jsx)(a.$,{onClick:l,variant:"secondary",size:"sm",children:"Skip"})})]})]})})}function T(){let{user:e,gameData:t}=(0,C.A)(),{toast:s}=(0,i.dj)(),{playSfx:o}=(0,k.n)(),[c,R]=(0,b.useState)(!1),[T,B]=(0,b.useState)(E()),[G,Y]=(0,b.useState)(!1),[D,P]=(0,b.useState)(5),Z=(0,b.useRef)(null);(0,b.useEffect)(()=>{(async()=>{e&&R(await (0,n.h$)(e.uid))})();let t=setInterval(()=>{B(E())},6e4);return()=>clearInterval(t)},[e]);let _=(0,b.useCallback)(async()=>{if(!e)return;let t=await (0,n.$k)(e.uid);t.success?(o("reward"),s({title:"Free Draw Claimed!",description:"Come back tomorrow for another one."}),R(!0)):s({variant:"destructive",title:"max_draws"===t.reason?"Max Draws Reached":"Already Claimed",description:"max_draws"===t.reason?"You already have the maximum number of draws.":"You can claim your next free draw tomorrow."})},[e,o,s]),F=(0,b.useCallback)(()=>{Z.current&&clearInterval(Z.current),Y(!1),_()},[_]);(0,b.useEffect)(()=>(G?(P(5),Z.current=setInterval(()=>{P(e=>e<=1?(Z.current&&clearInterval(Z.current),0):e-1)},1e3)):Z.current&&clearInterval(Z.current),()=>{Z.current&&clearInterval(Z.current)}),[G]);let O=async()=>{if(e&&t){if(t.gold<15)return void s({variant:"destructive",title:"Not Enough Gold",description:"You need ".concat(15," gold.")});try{await (0,S.FQ)(e.uid,15),o("reward"),s({title:"Purchase Successful!",description:"You bought 1 Water Refill."})}catch(e){console.error("Failed to purchase water refill",e),s({variant:"destructive",title:"Error",description:e.message||"Could not complete the purchase."})}}},I=async()=>{if(e&&t){if(t.gold<50)return void s({variant:"destructive",title:"Not Enough Gold",description:"You need ".concat(50," gold.")});try{await (0,S.JS)(e.uid,"glitterCount",1,50),o("reward"),s({title:"Purchase Successful!",description:"You bought 1 Glitter Pack!"})}catch(e){console.error("Failed to purchase glitter",e),s({variant:"destructive",title:"Error",description:"Could not complete the purchase."})}}},$=async()=>{if(e&&t){if(t.gold<100)return void s({variant:"destructive",title:"Not Enough Gold",description:"You need ".concat(100," gold.")});try{await (0,S.eL)(e.uid,100),o("reward"),s({title:"Purchase Successful!",description:"You bought the Sprinkler! Find it in your room."})}catch(e){console.error("Failed to purchase sprinkler",e),s({variant:"destructive",title:"Error",description:e.message||"Could not complete the purchase."})}}},z=async()=>{if(e&&t){if(t.gold<50)return void s({variant:"destructive",title:"Not Enough Gold",description:"You need ".concat(50," gold.")});try{await (0,S.JS)(e.uid,"sheenCount",1,50),o("reward"),s({title:"Purchase Successful!",description:"You bought 1 Sheen Pack!"})}catch(e){console.error("Failed to purchase sheen",e),s({variant:"destructive",title:"Error",description:"Could not complete the purchase."})}}},V=async()=>{if(e&&t){if(t.gold<60)return void s({variant:"destructive",title:"Not Enough Gold",description:"You need ".concat(60," gold.")});try{await (0,S.JS)(e.uid,"rainbowGlitterCount",1,60),o("reward"),s({title:"Purchase Successful!",description:"You bought 1 Rainbow Glitter Pack!"})}catch(e){console.error("Failed to purchase rainbow glitter",e),s({variant:"destructive",title:"Error",description:"Could not complete the purchase."})}}},W=async()=>{if(e&&t){if(t.gold<50)return void s({variant:"destructive",title:"Not Enough Gold",description:"You need ".concat(50," gold.")});try{await (0,S.JS)(e.uid,"redGlitterCount",1,50),o("reward"),s({title:"Purchase Successful!",description:"You bought 1 Red Glitter Pack!"})}catch(e){console.error("Failed to purchase red glitter",e),s({variant:"destructive",title:"Error",description:"Could not complete the purchase."})}}},L=async()=>{if(e&&t){if(t.gold<50)return void s({variant:"destructive",title:"Not Enough Gold",description:"You need ".concat(50," gold to buy a draw.")});if(t.draws>=n.RY)return void s({variant:"destructive",title:"Max Draws Reached",description:"You cannot buy more draws."});try{let t=await (0,n.$k)(e.uid,{bypassTimeCheck:!0,cost:50});t.success?(o("reward"),s({title:"Purchase Successful!",description:"You bought 1 draw for ".concat(50," gold.")})):"not_enough_gold"===t.reason?s({variant:"destructive",title:"Not Enough Gold",description:"You need ".concat(50," gold to buy a draw.")}):s({variant:"destructive",title:"Purchase Failed",description:"Something went wrong. Your gold was not spent."})}catch(e){console.error("Failed to process gold transaction",e),s({variant:"destructive",title:"Error",description:"Could not complete the purchase."})}}},H=async()=>{if(e&&t){if(t.gold<215)return void s({variant:"destructive",title:"Not Enough Gold",description:"You need ".concat(215," gold.")});try{await (0,S.k_)(e.uid,215),o("reward"),s({title:"Bundle Purchased!",description:"You received all items from the Sparkle Bundle."})}catch(e){console.error("Failed to purchase bundle",e),s({variant:"destructive",title:"Error",description:e.message||"Could not complete the purchase."})}}},U=async()=>{if(e&&t){if(t.rubyCount<5)return void s({variant:"destructive",title:"Not Enough Rubies",description:"You need ".concat(5," rubies.")});try{await (0,S.R)(e.uid,5),o("reward"),s({title:"Purchase Successful!",description:"You bought a Plant Chat token. Use it on a max-level plant!"})}catch(e){console.error("Failed to purchase plant chat",e),s({variant:"destructive",title:"Error",description:e.message||"Could not complete the purchase."})}}},J=()=>{s({title:"Coming Soon!",description:"Real-money purchases are not yet implemented."})};if(!e||!t)return(0,r.jsx)("div",{className:"flex h-screen w-full items-center justify-center",children:(0,r.jsx)(d.A,{className:"h-8 w-8 animate-spin text-primary"})});let X=t.gold,q=t.rubyCount,Q=t.draws;return(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("header",{className:"flex flex-col items-center justify-center pb-4 text-center",children:[(0,r.jsx)("h1",{className:"text-3xl text-primary",children:"Shop"}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-yellow-100/80 px-3 py-1 border border-yellow-300/80",children:[(0,r.jsx)(u.A,{className:"h-5 w-5 text-yellow-500"}),(0,r.jsx)("span",{className:"font-bold text-yellow-700",children:X})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-red-100/80 px-3 py-1 border border-red-300/80",children:[(0,r.jsx)(h.A,{className:"h-5 w-5 text-red-500"}),(0,r.jsx)("span",{className:"font-bold text-red-700",children:q})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-6",children:[(0,r.jsxs)(l.Zp,{className:"shadow-sm",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(x,{className:"h-8 w-8 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ZB,{className:"text-xl",children:"Daily Free Draw"}),(0,r.jsx)(l.BT,{children:"Claim one free draw every day after watching an ad."})]})]})}),(0,r.jsxs)(l.Wu,{className:"flex flex-col items-start gap-4",children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-chart-3",children:"FREE"}),(0,r.jsx)(a.$,{onClick:()=>{Y(!0)},className:"w-full font-semibold",disabled:Q>=n.RY||c,children:c?"Claimed for Today":Q>=n.RY?"Draws Full":"Claim"}),c&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground text-center w-full flex items-center justify-center gap-1.5",children:[(0,r.jsx)(m.A,{className:"w-3 h-3"}),(0,r.jsxs)("span",{children:["Next free draw in ",T]})]})]})]}),(0,r.jsx)(A.w,{}),(0,r.jsxs)(l.Zp,{className:"shadow-sm border-purple-500/50",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(p,{className:"h-8 w-8 text-purple-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ZB,{className:"text-xl text-purple-600",children:"Premium Shop"}),(0,r.jsx)(l.BT,{children:"Special items available for purchase."})]})]})}),(0,r.jsxs)(l.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-purple-50",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-purple-800",children:"Seasonal Plant Pack"}),(0,r.jsx)("p",{className:"text-sm text-purple-600",children:"Get 5 exclusive seasonal plants!"})]}),(0,r.jsx)(a.$,{onClick:J,className:"bg-purple-500 hover:bg-purple-600",children:"$4.99"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-purple-50",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-purple-800",children:"Fertilizer"}),(0,r.jsx)("p",{className:"text-sm text-purple-600",children:"Reduces seed time by 8 hours."})]}),(0,r.jsx)(a.$,{onClick:J,className:"bg-purple-500 hover:bg-purple-600",children:"$0.50"})]})]})]}),(0,r.jsx)(A.w,{}),(0,r.jsxs)(l.Zp,{className:"shadow-sm border-red-500/50",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(f.A,{className:"h-8 w-8 text-red-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ZB,{className:"text-xl text-red-600",children:"Plant Chat Token"}),(0,r.jsx)(l.BT,{children:"Unlock the ability to chat with one of your max-level plants."})]})]})}),(0,r.jsxs)(l.Wu,{className:"flex flex-col items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(h.A,{className:"h-6 w-6 text-red-500"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-red-600",children:5})]}),(0,r.jsx)(a.$,{onClick:U,variant:"destructive",className:"w-full font-semibold bg-red-500 hover:bg-red-600",disabled:q<5,children:q<5?"Not Enough Rubies":"Buy Chat Token"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground text-center w-full",children:["You have ",t.plantChatTokens," token(s)"]})]})]}),(0,r.jsx)(A.w,{}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)(l.Zp,{className:"shadow-sm",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(g,{className:"h-8 w-8 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ZB,{className:"text-xl",children:"Sparkle Bundle"}),(0,r.jsx)(l.BT,{children:"A pack of all cosmetics plus a refill! 10 gold off!"})]})]})}),(0,r.jsxs)(l.Wu,{className:"flex flex-col items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-6 w-6 text-yellow-500"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:215})]}),(0,r.jsx)(a.$,{onClick:H,className:"w-full font-semibold",disabled:X<215,children:X<215?"Not Enough Gold":"Buy Bundle"})]})]}),(0,r.jsxs)(l.Zp,{className:"shadow-sm",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(y.A,{className:"h-8 w-8 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ZB,{className:"text-xl",children:"Buy a Draw"}),(0,r.jsx)(l.BT,{children:"Use your gold to get another draw."})]})]})}),(0,r.jsxs)(l.Wu,{className:"flex flex-col items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-6 w-6 text-yellow-500"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:50})]}),(0,r.jsx)(a.$,{onClick:L,className:"w-full font-semibold",disabled:X<50||Q>=n.RY,children:Q>=n.RY?"Draws Full":X<50?"Not Enough Gold":"Buy Draw"})]})]}),(0,r.jsxs)(l.Zp,{className:"shadow-sm",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(v.A,{className:"h-8 w-8 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ZB,{className:"text-xl",children:"Sprinkler"}),(0,r.jsx)(l.BT,{children:"A one-time purchase to water all your eligible plants at once."})]})]})}),(0,r.jsxs)(l.Wu,{className:"flex flex-col items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-6 w-6 text-yellow-500"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:100})]}),(0,r.jsx)(a.$,{onClick:$,className:"w-full font-semibold",disabled:t.sprinklerUnlocked||X<100,children:t.sprinklerUnlocked?"Owned":X<100?"Not Enough Gold":"Buy"})]})]}),(0,r.jsxs)(l.Zp,{className:"shadow-sm",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(j.A,{className:"h-8 w-8 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ZB,{className:"text-xl",children:"Water Refill"}),(0,r.jsx)(l.BT,{children:"Buy a refill to reset a single plant's daily watering limit."})]})]})}),(0,r.jsxs)(l.Wu,{className:"flex flex-col items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-6 w-6 text-yellow-500"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:15})]}),(0,r.jsx)(a.$,{onClick:O,className:"w-full font-semibold",disabled:X<15,children:X<15?"Not Enough Gold":"Buy (+1)"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground text-center w-full",children:["You have ",t.waterRefillCount," refill(s)"]})]})]}),(0,r.jsxs)(l.Zp,{className:"shadow-sm",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(w.A,{className:"h-8 w-8 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ZB,{className:"text-xl",children:"Glitter Pack"}),(0,r.jsx)(l.BT,{children:"Make one of your plants permanently sparkle with glitter."})]})]})}),(0,r.jsxs)(l.Wu,{className:"flex flex-col items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-6 w-6 text-yellow-500"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:50})]}),(0,r.jsx)(a.$,{onClick:I,className:"w-full font-semibold",disabled:X<50,children:X<50?"Not Enough Gold":"Buy Glitter (+1)"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground text-center w-full",children:["You have ",t.glitterCount," pack(s)"]})]})]}),(0,r.jsxs)(l.Zp,{className:"shadow-sm",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(N.A,{className:"h-8 w-8 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ZB,{className:"text-xl",children:"Sheen Pack"}),(0,r.jsx)(l.BT,{children:"Make one of your plants permanently shimmer with a beautiful sheen."})]})]})}),(0,r.jsxs)(l.Wu,{className:"flex flex-col items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-6 w-6 text-yellow-500"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:50})]}),(0,r.jsx)(a.$,{onClick:z,className:"w-full font-semibold",disabled:X<50,children:X<50?"Not Enough Gold":"Buy Sheen (+1)"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground text-center w-full",children:["You have ",t.sheenCount," sheen pack(s)"]})]})]}),(0,r.jsxs)(l.Zp,{className:"shadow-sm",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(w.A,{className:"h-8 w-8 text-pink-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ZB,{className:"text-xl",children:"Rainbow Glitter"}),(0,r.jsx)(l.BT,{children:"Make one of your plants sparkle with all the colors of the rainbow!"})]})]})}),(0,r.jsxs)(l.Wu,{className:"flex flex-col items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-6 w-6 text-yellow-500"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:60})]}),(0,r.jsx)(a.$,{onClick:V,className:"w-full font-semibold",disabled:X<60,children:X<60?"Not Enough Gold":"Buy Glitter (+1)"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground text-center w-full",children:["You have ",t.rainbowGlitterCount," pack(s)"]})]})]}),(0,r.jsxs)(l.Zp,{className:"shadow-sm",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(w.A,{className:"h-8 w-8 text-red-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ZB,{className:"text-xl",children:"Red Glitter"}),(0,r.jsx)(l.BT,{children:"Make one of your plants sparkle with a fiery red glitter!"})]})]})}),(0,r.jsxs)(l.Wu,{className:"flex flex-col items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-6 w-6 text-yellow-500"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:50})]}),(0,r.jsx)(a.$,{onClick:W,className:"w-full font-semibold",disabled:X<50,children:X<50?"Not Enough Gold":"Buy Glitter (+1)"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground text-center w-full",children:["You have ",t.redGlitterCount," pack(s)"]})]})]})]})]}),(0,r.jsx)(M,{open:G,onOpenChange:Y,onSkip:F,countdown:D})]})}},3998:(e,t,s)=>{"use strict";s.d(t,{$:()=>c,r:()=>o});var r=s(5155),a=s(2115),l=s(7129),i=s(3101),n=s(4269);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:c=!1,...d}=e,u=c?l.DX:"button";return(0,r.jsx)(u,{className:(0,n.cn)(o({variant:a,size:i,className:s})),ref:t,...d})});c.displayName="Button"},4901:(e,t,s)=>{"use strict";s.d(t,{A:()=>u,O:()=>d});var r=s(5155),a=s(2115),l=s(9253),i=s(4585),n=s(9708),o=s(9285);let c=(0,a.createContext)({user:null,gameData:null,loading:!0}),d=e=>{let{children:t}=e,[s,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(null),[x,m]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,l.hg)(i.j,async e=>{d(e),e||(h(null),m(!1))});return()=>e()},[]),(0,a.useEffect)(()=>{if(s){let e=(0,n.H9)(i.db,"users",s.uid),t=(0,n.aQ)(e,e=>{e.exists()?h(e.data()):(0,o.Jt)(s).then(e=>{h(e)}),m(!1)},e=>{console.error("Firestore subscription error:",e),h(null),m(!1)});return()=>t()}},[s]),(0,r.jsx)(c.Provider,{value:{user:s,gameData:u,loading:x},children:t})},u=()=>(0,a.useContext)(c)},5229:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5299:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5322:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]])},5740:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},5894:(e,t,s)=>{"use strict";s.d(t,{dj:()=>u});var r=s(2115);let a=0,l=new Map,i=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=[],o={toasts:[]};function c(e){o=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(o,e),n.forEach(e=>{e(o)})}function d(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,t]=r.useState(o);return r.useEffect(()=>(n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},5937:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},6259:(e,t,s)=>{"use strict";s.d(t,{w:()=>n});var r=s(5155),a=s(2115),l=s(7268),i=s(4269);let n=a.forwardRef((e,t)=>{let{className:s,orientation:a="horizontal",decorative:n=!0,...o}=e;return(0,r.jsx)(l.b,{ref:t,decorative:n,orientation:a,className:(0,i.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",s),...o})});n.displayName=l.b.displayName},6948:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>i,aR:()=>n,wL:()=>u});var r=s(5155),a=s(2115),l=s(4269);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});i.displayName="Card";let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});n.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})});u.displayName="CardFooter"},6983:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7129:(e,t,s)=>{"use strict";s.d(t,{DX:()=>i});var r=s(2115);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var l=s(5155),i=function(e){let t=function(e){let t=r.forwardRef((e,t)=>{let{children:s,...l}=e;if(r.isValidElement(s)){var i;let e,n,o=(i=s,(n=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(n=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),c=function(e,t){let s={...t};for(let r in t){let a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?s[r]=(...e)=>{let t=l(...e);return a(...e),t}:a&&(s[r]=a):"style"===r?s[r]={...a,...l}:"className"===r&&(s[r]=[a,l].filter(Boolean).join(" "))}return{...e,...s}}(l,s.props);return s.type!==r.Fragment&&(c.ref=t?function(...e){return t=>{let s=!1,r=e.map(e=>{let r=a(e,t);return s||"function"!=typeof r||(s=!0),r});if(s)return()=>{for(let t=0;t<r.length;t++){let s=r[t];"function"==typeof s?s():a(e[t],null)}}}}(t,o):o),r.cloneElement(s,c)}return r.Children.count(s)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),s=r.forwardRef((e,s)=>{let{children:a,...i}=e,n=r.Children.toArray(a),c=n.find(o);if(c){let e=c.props.children,a=n.map(t=>t!==c?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...i,ref:s,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null})}return(0,l.jsx)(t,{...i,ref:s,children:a})});return s.displayName=`${e}.Slot`,s}("Slot"),n=Symbol("radix.slottable");function o(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===n}},7268:(e,t,s)=>{"use strict";s.d(t,{b:()=>c});var r=s(2115),a=s(8142),l=s(5155),i="horizontal",n=["horizontal","vertical"],o=r.forwardRef((e,t)=>{var s;let{decorative:r,orientation:o=i,...c}=e,d=(s=o,n.includes(s))?o:i;return(0,l.jsx)(a.sG.div,{"data-orientation":d,...r?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...c,ref:t})});o.displayName="Separator";var c=o},8055:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},8243:(e,t,s)=>{Promise.resolve().then(s.bind(s,2260))},9347:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},9559:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},9689:(e,t,s)=>{"use strict";s.d(t,{G:()=>i,n:()=>n});var r=s(5155),a=s(2115);let l=(0,a.createContext)(void 0),i=e=>{let{children:t}=e,[s,i]=(0,a.useState)(()=>{{let e=localStorage.getItem("sfxVolume");return null!==e?parseFloat(e):.75}}),[n,o]=(0,a.useState)(()=>{{let e=localStorage.getItem("musicVolume");return null!==e?parseFloat(e):.2}}),[c,d]=(0,a.useState)(!1),u=(0,a.useRef)(null),h={tap:(0,a.useRef)(null),success:(0,a.useRef)(null),reward:(0,a.useRef)(null),chime:(0,a.useRef)(null),watering:(0,a.useRef)(null)};(0,a.useEffect)(()=>{u.current=new Audio("/music.mp3"),u.current.loop=!0,h.tap.current=new Audio("/sfx/tap.mp3"),h.success.current=new Audio("/sfx/success.mp3"),h.reward.current=new Audio("/sfx/reward.mp3"),h.chime.current=new Audio("/sfx/chime.mp3"),h.watering.current=new Audio("/sfx/watering.mp3")},[]),(0,a.useEffect)(()=>{u.current&&(u.current.volume=n),localStorage.setItem("musicVolume",String(n))},[n]);let x=(0,a.useCallback)(()=>{u.current&&u.current.paused&&u.current.play().then(()=>{d(!0)}).catch(e=>console.error("Music play failed on start:",e))},[]),m=(0,a.useCallback)(()=>{u.current&&(c?u.current.pause():u.current.play().catch(e=>console.error("Music play failed on toggle:",e)),d(!c))},[c]),p=(0,a.useCallback)(e=>{let t=h[e].current;t&&(t.volume=s,t.currentTime=0,t.play().catch(e=>console.error("SFX play failed",e)))},[s,h]);return(0,r.jsx)(l.Provider,{value:{sfxVolume:s,setSfxVolume:e=>{i(e),localStorage.setItem("sfxVolume",String(e))},musicVolume:n,setMusicVolume:e=>{o(e)},isMusicPlaying:c,toggleMusic:m,startMusic:x,playSfx:p},children:t})},n=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useAudio must be used within an AudioProvider");return e}}},e=>{e.O(0,[992,416,909,382,476,667,560,441,255,358],()=>e(e.s=8243)),_N_E=e.O()}]);