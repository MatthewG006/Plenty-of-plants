exports.id=472,exports.ids=[472],exports.modules={2896:(a,b,c)=>{"use strict";async function d(a,b=1024){return new Promise((c,d)=>{let e=new window.Image;e.crossOrigin="anonymous",e.onload=()=>{let a=document.createElement("canvas"),{width:f,height:g}=e;f>g?f>b&&(g=Math.round(g*b/f),f=b):g>b&&(f=Math.round(f*b/g),g=b),a.width=f,a.height=g;let h=a.getContext("2d");if(!h)return d(Error("Could not get canvas context"));h.drawImage(e,0,0,f,g),c(a.toDataURL("image/jpeg",.8))},e.onerror=d,e.src=a})}async function e(a,b=240){return new Promise((c,d)=>{let e=new window.Image;e.crossOrigin="anonymous",e.onload=()=>{let a=document.createElement("canvas"),{width:f,height:g}=e;a.width=f,a.height=g;let h=a.getContext("2d");if(!h)return d(Error("Could not get canvas context"));h.drawImage(e,0,0);let i=h.getImageData(0,0,f,g),j=i.data;for(let a=0;a<j.length;a+=4){let c=j[a],d=j[a+1],e=j[a+2];c>b&&d>b&&e>b&&(j[a+3]=0)}h.putImageData(i,0,0),c(a.toDataURL("image/png"))},e.onerror=b=>{console.warn("CORS or other error making background transparent, returning original image",b),c(a)},e.src=a})}c.d(b,{w:()=>d,x:()=>e})},6373:(a,b,c)=>{"use strict";c.d(b,{G:()=>e});var d=c(85708);let e=(0,d.createServerReference)("40d8950a3968c4b506ebafa8329e74b733520130ef",d.callServer,void 0,d.findSourceMapURL,"drawPlantAction")},13475:(a,b,c)=>{Promise.resolve().then(c.bind(c,74848))},35284:(a,b,c)=>{"use strict";c.d(b,{$:()=>j,r:()=>i});var d=c(21124),e=c(38301),f=c(15397),g=c(26691),h=c(44943);let i=(0,g.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=e.forwardRef(({className:a,variant:b,size:c,asChild:e=!1,...g},j)=>{let k=e?f.DX:"button";return(0,d.jsx)(k,{className:(0,h.cn)(i({variant:b,size:c,className:a})),ref:j,...g})});j.displayName="Button"},38710:(a,b,c)=>{"use strict";c.d(b,{ai:()=>f});var d=c(8567),e=c(80567);let f=(0,d.genkit)({plugins:[(0,e.YF)()],model:"googleai/gemini-2.5-flash"})},46553:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f});var d=c(75338),e=c(87090);function f({children:a}){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("main",{children:a}),(0,d.jsx)(e.default,{})]})}},47002:a=>{function b(a){var b=Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b}b.keys=()=>[],b.resolve=b,b.id=47002,a.exports=b},59832:(a,b,c)=>{Promise.resolve().then(c.bind(c,87090))},62186:(a,b,c)=>{"use strict";c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h,wL:()=>l});var d=c(21124),e=c(38301),f=c(44943);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...b}));g.displayName="Card";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));i.displayName="CardTitle";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));j.displayName="CardDescription";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent";let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b}));l.displayName="CardFooter"},74848:(a,b,c)=>{"use strict";c.d(b,{default:()=>p});var d=c(21124),e=c(3991),f=c.n(e),g=c(42378),h=c(78733),i=c(82548),j=c(51968),k=c(65893),l=c(80944),m=c(44943),n=c(51171);let o=[{href:"/home",label:"Home",icon:h.A},{href:"/room",label:"Room",icon:i.A},{href:"/garden",label:"Garden",icon:j.A},{href:"/community",label:"Community",icon:k.A},{href:"/shop",label:"Shop",icon:l.A}];function p(){let a=(0,g.usePathname)(),{playSfx:b}=(0,n.n)(),c=()=>{b("tap")};return(0,d.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 h-16 border-t bg-card/95 backdrop-blur-sm z-10 flex justify-center",children:(0,d.jsx)("div",{className:"grid h-full w-full max-w-md grid-cols-5 items-center",children:o.map(b=>{let e="/garden"===b.href?"/garden"===a||"/garden/seeds"===a:a.startsWith(b.href);return(0,d.jsxs)(f(),{href:b.href,onClick:c,className:"flex flex-col items-center justify-center gap-1 h-full",children:[(0,d.jsx)(b.icon,{className:(0,m.cn)("h-6 w-6",e?"text-primary":"text-muted-foreground")}),(0,d.jsx)("span",{className:(0,m.cn)("text-xs font-medium",e?"text-primary":"text-muted-foreground"),children:b.label})]},b.href)})})})}},81640:(a,b,c)=>{"use strict";c.r(b),c.d(b,{"40d8950a3968c4b506ebafa8329e74b733520130ef":()=>p});var d=c(91488);c(27806);var e=c(38710),f=c(8567),g=c(40410);let h=f.z.object({name:f.z.string().describe("The creative and unique name of the new plant."),description:f.z.string().describe("A short, whimsical description of the plant."),imageDataUri:f.z.string().describe("A generated image of the plant, as a public URL from Firebase Storage.")});e.ai.definePrompt({name:"fallbackPlantDetailsPrompt",input:{schema:f.z.object({plantType:f.z.string().describe("The type of plant, e.g. 'succulent', 'fern'.")})},output:{schema:f.z.object({name:f.z.string().describe("A creative and unique two-word name for the provided plant type."),description:f.z.string().describe("A short, whimsical, one-sentence description for this plant.")})},prompt:'You are a creative botanist for a game. For the plant type "{{plantType}}", generate a unique two-word name and a whimsical one-sentence description for it.'});let i=()=>({name:"Sturdy Sprout",description:"A reliable little plant that shows up when you need it most.",imageDataUri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="}),j=e.ai.defineFlow({name:"getFallbackPlantFlow",inputSchema:f.z.object({existingNames:f.z.array(f.z.string()).optional().describe("A list of existing plant names to avoid duplicating.")}),outputSchema:h},async({existingNames:a})=>{try{return console.warn("The primary AI generation failed. To enable varied fallbacks, please configure Firebase Admin SDK access to the 'fallback-plants' folder in Firebase Storage. Returning hardcoded plant."),i()}catch(a){return console.error("Critical error in fallback flow, returning hardcoded plant.",a),i()}});(0,g.D)([j]),(0,d.A)(j,"7f2710036294ce187416b05b96ca57ea576fb20812",null);let k=f.z.object({existingNames:f.z.array(f.z.string()).optional().describe("A list of existing plant names to avoid duplicating.")}),l=f.z.object({name:f.z.string().describe("The creative and unique name of the new plant."),description:f.z.string().describe("A short, whimsical description of the plant."),imageDataUri:f.z.string().describe("A generated image of the plant, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'")});async function m(a=[]){return o({existingNames:a})}let n=e.ai.definePrompt({name:"plantDetailsPrompt",input:{schema:k},output:{schema:f.z.object({name:f.z.string().describe('A creative and unique name for a new fantasy plant. Should be two words. Avoid common plant names like "fern" or "cactus".'),description:f.z.string().describe("A short, whimsical description for this new plant, in one sentence."),imagePrompt:f.z.string().describe('A simple visual prompt for an image generation model to create a picture of this plant. e.g., "A whimsical glowing mushroom plant with a happy face."')})},prompt:`You are a creative botanist for a 2D game about collecting cute, magical plants. Generate one new, unique, and whimsical plant. The plant should have a cute and simple design, not a strange or other-worldly appearance. The plant must have a highly creative and unusual two-word name that is not a common plant type. It should also have a short, one-sentence description, and a prompt for an image generator.

You MUST NOT use any of the following names:
{{#each existingNames}}
- {{this}}
{{/each}}
`}),o=e.ai.defineFlow({name:"drawPlantFlow",inputSchema:k,outputSchema:l},async({existingNames:a})=>{let b=`
You MUST adhere to the following rules without exception:
1. **Art Style:** The final image must have a clean, 2D, illustrated style.
2. **The Pot:** The plant MUST be in a simple, terracotta pot.
3. **The Face:** The pot MUST have a simple, smiling face on it. This is not optional.
4. **The Plant:** The new plant character must be cute and simple. It absolutely MUST NOT have arms, legs, or a human-like body.
5. **Color Constraint:** The plant and pot MUST NOT be black. They should be colorful and vibrant.
6. **The Background:** The background MUST be a solid, pure white color. It absolutely cannot be black or any other color.
7. **Composition:** The image must contain ONLY the single plant character in its pot. NO other objects, text, people, hands, or background elements are allowed.
`;try{let{output:c}=await n({existingNames:a});if(!c)throw Error("Could not generate plant details.");let d=`Create a new plant character based on the description: "${c.imagePrompt}".

${b}`;try{let{media:a}=await e.ai.generate({model:"googleai/imagen-4.0-fast-generate-001",prompt:d});if(!a||!a.url)throw Error("Could not generate plant image from AI.");return{name:c.name,description:c.description,imageDataUri:a.url}}catch(b){return console.warn(`Image generation failed, triggering fallback. Reason: ${b.message}`),j({existingNames:a})}}catch(b){if(b.message&&b.message.includes("API key not valid"))throw console.error("Authentication Error: The provided Google AI API key is invalid or missing.",b),Error("Invalid API Key");return console.warn(`Plant details generation failed, triggering fallback. Reason: ${b.message}`),j({existingNames:a})}});async function p(a=[]){return await m(a)}(0,g.D)([m]),(0,d.A)(m,"40acfe1e4936b7cf61d698a7da89938e61b6da685b",null),(0,g.D)([p]),(0,d.A)(p,"40d8950a3968c4b506ebafa8329e74b733520130ef",null)},85708:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{callServer:function(){return d.callServer},createServerReference:function(){return f.createServerReference},findSourceMapURL:function(){return e.findSourceMapURL}});let d=c(76779),e=c(6927),f=c(63188)},87090:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/components/bottom-nav-bar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/bottom-nav-bar.tsx","default")}};