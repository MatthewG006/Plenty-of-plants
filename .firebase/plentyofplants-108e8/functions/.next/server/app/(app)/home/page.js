(()=>{var e={};e.id=539,e.ids=[539],e.modules={643:e=>{"use strict";e.exports=require("node:perf_hooks")},1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},7252:e=>{"use strict";e.exports=require("express")},9812:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(82614).A)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15036:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(82614).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},16141:e=>{"use strict";e.exports=require("node:zlib")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21114:(e,t,r)=>{Promise.resolve().then(r.bind(r,74137))},21820:e=>{"use strict";e.exports=require("os")},23562:(e,t,r)=>{"use strict";r.d(t,{k:()=>o});var n=r(60687),s=r(43210),i=r(25177),a=r(4780);let o=s.forwardRef(({className:e,value:t,...r},s)=>(0,n.jsx)(i.bL,{ref:s,className:(0,a.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:(0,n.jsx)(i.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));o.displayName=i.bL.displayName},25177:(e,t,r)=>{"use strict";r.d(t,{C1:()=>j,bL:()=>w});var n=r(43210),s=r(11273),i=r(3416),a=r(60687),o="Progress",[l,c]=(0,s.A)(o),[u,d]=l(o),f=n.forwardRef((e,t)=>{var r,n;let{__scopeProgress:s,value:o=null,max:l,getValueLabel:c=h,...d}=e;(l||0===l)&&!y(l)&&console.error((r=`${l}`,`Invalid prop \`max\` of value \`${r}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let f=y(l)?l:100;null===o||v(o,f)||console.error((n=`${o}`,`Invalid prop \`value\` of value \`${n}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let p=v(o,f)?o:null,m=g(p)?c(p,f):void 0;return(0,a.jsx)(u,{scope:s,value:p,max:f,children:(0,a.jsx)(i.sG.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":g(p)?p:void 0,"aria-valuetext":m,role:"progressbar","data-state":x(p,f),"data-value":p??void 0,"data-max":f,...d,ref:t})})});f.displayName=o;var p="ProgressIndicator",m=n.forwardRef((e,t)=>{let{__scopeProgress:r,...n}=e,s=d(p,r);return(0,a.jsx)(i.sG.div,{"data-state":x(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});function h(e,t){return`${Math.round(e/t*100)}%`}function x(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function g(e){return"number"==typeof e}function y(e){return g(e)&&!isNaN(e)&&e>0}function v(e,t){return g(e)&&!isNaN(e)&&e<=t&&e>=0}m.displayName=p;var w=f,j=m},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32467:e=>{"use strict";e.exports=require("node:http2")},33873:e=>{"use strict";e.exports=require("path")},34589:e=>{"use strict";e.exports=require("node:assert")},34631:e=>{"use strict";e.exports=require("tls")},37067:e=>{"use strict";e.exports=require("node:http")},37366:e=>{"use strict";e.exports=require("dns")},37540:e=>{"use strict";e.exports=require("node:console")},37830:e=>{"use strict";e.exports=require("node:stream/web")},41204:e=>{"use strict";e.exports=require("string_decoder")},41692:e=>{"use strict";e.exports=require("node:tls")},41792:e=>{"use strict";e.exports=require("node:querystring")},44708:e=>{"use strict";e.exports=require("node:https")},46982:(e,t,r)=>{"use strict";r.d(t,{By:()=>d,Gz:()=>f,JD:()=>u,LH:()=>l,XU:()=>h,dt:()=>a,hJ:()=>o,oe:()=>p,yn:()=>m});var n=r(75535),s=r(33784),i=r(79396);let a={dailyLogin:{id:"dailyLogin",title:"Daily Login",description:"Log in each day to claim a bonus!",target:1,reward:20},collectPlants:{id:"collectPlants",title:"Plant Collector",description:"Collect 3 new plants.",target:3,reward:5},waterPlants:{id:"waterPlants",title:"Green Thumb",description:"Water your plants 5 times.",target:5,reward:5},evolvePlant:{id:"evolvePlant",title:"Evolutionist",description:"Evolve 1 of your plants.",target:1,reward:10}},o={waterEvolved:{id:"waterEvolved",title:"Advanced Care",description:"Water 5 evolved plants.",target:5,reward:15},collectMorePlants:{id:"collectMorePlants",title:"Master Collector",description:"Add 2 more plants to your collection.",target:2,reward:15},likePlayer:{id:"likePlayer",title:"Community Spirit",description:"Like another player's collection.",target:1,reward:20},applySheen:{id:"applySheen",title:"Shine On",description:"Apply a sheen pack to a plant.",target:1,reward:25}};async function l(e){let t=await (0,i.Uc)(e);if(!t)return;let r=Date.now();if(r-(t.challengesStartDate||0)>864e5){let t=(0,n.H9)(s.db,"users",e);await (0,n.mZ)(t,{challenges:{},challengesStartDate:r})}}async function c(e,t,r=1){let l=(0,n.H9)(s.db,"users",e),u=await (0,i.Uc)(e);if(!u||Date.now()-(u.challengesStartDate||0)>864e5)return;let d={...a,...o}[t];if(!d)return;let f=u.challenges?.[t];f&&(f.claimed||f.progress>=d.target)||await (0,n.mZ)(l,{[`challenges.${t}.progress`]:(0,n.GV)(r)})}let u=e=>{c(e,"collectPlants"),c(e,"collectMorePlants")},d=e=>c(e,"likePlayer"),f=e=>c(e,"applyGlitter"),p=e=>c(e,"applySheen"),m=async e=>{let t=await (0,i.Uc)(e);if(!t)return;let r=t.challenges?.dailyLogin;if(!r||r.progress<1){let t=(0,n.H9)(s.db,"users",e);await (0,n.mZ)(t,{"challenges.dailyLogin.progress":1})}};async function h(e,t){let r=(0,n.H9)(s.db,"users",e),l=await (0,i.Uc)(e);if(!l)throw Error("User data not found.");let c={...a,...o}[t],u=l.challenges?.[t];if(!c||!u)throw Error("Challenge not found.");if(u.claimed)throw Error("Reward already claimed.");if(u.progress<c.target)throw Error("Challenge not yet complete.");await (0,n.mZ)(r,{gold:(0,n.GV)(c.reward),[`challenges.${t}.claimed`]:!0})}},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},55817:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(82614).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},58450:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(82614).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},58595:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(82614).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63503:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>f,Es:()=>m,HM:()=>u,L3:()=>h,c7:()=>p,lG:()=>l,rr:()=>x});var n=r(60687),s=r(43210),i=r(10991),a=r(78726),o=r(4780);let l=i.bL;i.l9;let c=i.ZL,u=i.bm,d=s.forwardRef(({className:e,...t},r)=>(0,n.jsx)(i.hJ,{ref:r,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));d.displayName=i.hJ.displayName;let f=s.forwardRef(({className:e,children:t,hideCloseButton:r,...s},l)=>(0,n.jsxs)(c,{children:[(0,n.jsx)(d,{}),(0,n.jsxs)(i.UC,{ref:l,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,!r&&(0,n.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(a.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));f.displayName=i.UC.displayName;let p=({className:e,...t})=>(0,n.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});p.displayName="DialogHeader";let m=({className:e,...t})=>(0,n.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});m.displayName="DialogFooter";let h=s.forwardRef(({className:e,...t},r)=>(0,n.jsx)(i.hE,{ref:r,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));h.displayName=i.hE.displayName;let x=s.forwardRef(({className:e,...t},r)=>(0,n.jsx)(i.VY,{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));x.displayName=i.VY.displayName},73024:e=>{"use strict";e.exports=require("node:fs")},73136:e=>{"use strict";e.exports=require("node:url")},73429:e=>{"use strict";e.exports=require("node:util/types")},73496:e=>{"use strict";e.exports=require("http2")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},74137:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ey});var n=r(60687),s=r(29523),i=r(44493),a=r(48206),o=r(82614);let l=(0,o.A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var c=r(70653),u=r(11516),d=r(58450),f=r(9812);let p=(0,o.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=r(58595),h=r(81292),x=r(78726),g=r(15036);let y=(0,o.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var v=r(85814),w=r.n(v),j=r(30474),b=r(43210),N=r(29867),k=r(63503),C=r(4780),S=r(53125),A=r(86632),P=r(23562),q=r(18780),E=r(79396),O=r(8487),D=r(75409),I=r(46982);let L={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function M(e={}){let t,r,n,s,i=null,a=0,o=!1,l=!1,c=!1,u=!1;function d(){if(!n){if(m()){c=!0;return}o||r.emit("autoplay:play");let{ownerWindow:e}=r.internalEngine();e.clearTimeout(a),a=e.setTimeout(v,s[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset"),o=!0}}function f(){if(!n){o&&r.emit("autoplay:stop");let{ownerWindow:e}=r.internalEngine();e.clearTimeout(a),a=0,i=null,r.emit("autoplay:timerstopped"),o=!1}}function p(){if(m())return c=o,f();c&&d()}function m(){let{ownerDocument:e}=r.internalEngine();return"hidden"===e.visibilityState}function h(){l||f()}function x(){l||d()}function g(){l=!0,f()}function y(){l=!1,d()}function v(){let{index:e}=r.internalEngine(),n=e.clone().add(1).get(),s=r.scrollSnapList().length-1,i=t.stopOnLastSnap&&n===s;if(r.canScrollNext()?r.scrollNext(u):r.scrollTo(0,u),r.emit("autoplay:select"),i)return f();d()}return{name:"autoplay",options:e,init:function(i,a){r=i;let{mergeOptions:o,optionsAtMedia:l}=a,c=o(L,M.globalOptions);if(t=l(o(c,e)),r.scrollSnapList().length<=1)return;u=t.jump,n=!1,s=function(e,t){let r=e.scrollSnapList();return"number"==typeof t?r.map(()=>t):t(r,e)}(r,t.delay);let{eventStore:m,ownerDocument:v}=r.internalEngine(),w=!!r.internalEngine().options.watchDrag,j=function(e,t){let r=e.rootNode();return t&&t(r)||r}(r,t.rootNode);m.add(v,"visibilitychange",p),w&&r.on("pointerDown",h),w&&!t.stopOnInteraction&&r.on("pointerUp",x),t.stopOnMouseEnter&&m.add(j,"mouseenter",g),t.stopOnMouseEnter&&!t.stopOnInteraction&&m.add(j,"mouseleave",y),t.stopOnFocusIn&&r.on("slideFocusStart",f),t.stopOnFocusIn&&!t.stopOnInteraction&&m.add(r.containerNode(),"focusout",d),t.playOnInit&&d()},destroy:function(){r.off("pointerDown",h).off("pointerUp",x).off("slideFocusStart",f),f(),n=!0,o=!1},play:function(e){void 0!==e&&(u=e),d()},stop:function(){o&&f()},reset:function(){o&&d()},isPlaying:function(){return o},timeUntilNext:function(){return i?s[r.selectedScrollSnap()]-(new Date().getTime()-i):null}}}function z(e){return"[object Object]"===Object.prototype.toString.call(e)||Array.isArray(e)}function G(e,t){let r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(t.breakpoints||{}))&&r.every(r=>{let n=e[r],s=t[r];return"function"==typeof n?`${n}`==`${s}`:z(n)&&z(s)?G(n,s):n===s})}function R(e){return e.concat().sort((e,t)=>e.name>t.name?1:-1).map(e=>e.options)}function F(e){return"number"==typeof e}function _(e){return"string"==typeof e}function $(e){return"boolean"==typeof e}function T(e){return"[object Object]"===Object.prototype.toString.call(e)}function H(e){return Math.abs(e)}function U(e){return Math.sign(e)}M.globalOptions=void 0;function V(e){return J(e).map(Number)}function B(e){return e[Z(e)]}function Z(e){return Math.max(0,e.length-1)}function Y(e,t=0){return Array.from(Array(e),(e,r)=>t+r)}function J(e){return Object.keys(e)}function W(e,t){return void 0!==t.MouseEvent&&e instanceof t.MouseEvent}function K(){let e=[],t={add:function(r,n,s,i={passive:!0}){let a;return"addEventListener"in r?(r.addEventListener(n,s,i),a=()=>r.removeEventListener(n,s,i)):(r.addListener(s),a=()=>r.removeListener(s)),e.push(a),t},clear:function(){e=e.filter(e=>e())}};return t}function X(e=0,t=0){let r=H(e-t);function n(r){return r<e||r>t}return{length:r,max:t,min:e,constrain:function(r){return n(r)?r<e?e:t:r},reachedAny:n,reachedMax:function(e){return e>t},reachedMin:function(t){return t<e},removeOffset:function(e){return r?e-r*Math.ceil((e-t)/r):e}}}function Q(e){let t=e;function r(e){return F(e)?e:e.get()}return{get:function(){return t},set:function(e){t=r(e)},add:function(e){t+=r(e)},subtract:function(e){t-=r(e)}}}function ee(e,t){let r="x"===e.scroll?function(e){return`translate3d(${e}px,0px,0px)`}:function(e){return`translate3d(0px,${e}px,0px)`},n=t.style,s=null,i=!1;return{clear:function(){!i&&(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))},to:function(t){if(i)return;let a=Math.round(100*e.direction(t))/100;a!==s&&(n.transform=r(a),s=a)},toggleActive:function(e){i=!e}}}let et={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function er(e,t,r){let n,s,i,a,o,l=e.ownerDocument,c=l.defaultView,u=function(e){function t(e,t){return function e(t,r){return[t,r].reduce((t,r)=>(J(r).forEach(n=>{let s=t[n],i=r[n],a=T(s)&&T(i);t[n]=a?e(s,i):i}),t),{})}(e,t||{})}return{mergeOptions:t,optionsAtMedia:function(r){let n=r.breakpoints||{},s=J(n).filter(t=>e.matchMedia(t).matches).map(e=>n[e]).reduce((e,r)=>t(e,r),{});return t(r,s)},optionsMediaQueries:function(t){return t.map(e=>J(e.breakpoints||{})).reduce((e,t)=>e.concat(t),[]).map(e.matchMedia)}}}(c),d=(o=[],{init:function(e,t){return(o=t.filter(({options:e})=>!1!==u.optionsAtMedia(e).active)).forEach(t=>t.init(e,u)),t.reduce((e,t)=>Object.assign(e,{[t.name]:t}),{})},destroy:function(){o=o.filter(e=>e.destroy())}}),f=K(),p=function(){let e,t={},r={init:function(t){e=t},emit:function(n){return(t[n]||[]).forEach(t=>t(e,n)),r},off:function(e,n){return t[e]=(t[e]||[]).filter(e=>e!==n),r},on:function(e,n){return t[e]=(t[e]||[]).concat([n]),r},clear:function(){t={}}};return r}(),{mergeOptions:m,optionsAtMedia:h,optionsMediaQueries:x}=u,{on:g,off:y,emit:v}=p,w=!1,j=m(et,er.globalOptions),b=m(j),N=[];function k(t,r){if(w)return;b=h(j=m(j,t)),N=r||N;let{container:o,slides:u}=b;i=(_(o)?e.querySelector(o):o)||e.children[0];let g=_(u)?i.querySelectorAll(u):u;a=[].slice.call(g||i.children),n=function t(r){let n=function(e,t,r,n,s,i,a){let o,l,{align:c,axis:u,direction:d,startIndex:f,loop:p,duration:m,dragFree:h,dragThreshold:x,inViewThreshold:g,slidesToScroll:y,skipSnaps:v,containScroll:w,watchResize:j,watchSlides:b,watchDrag:N,watchFocus:k}=i,C={measure:function(e){let{offsetTop:t,offsetLeft:r,offsetWidth:n,offsetHeight:s}=e;return{top:t,right:r+n,bottom:t+s,left:r,width:n,height:s}}},S=C.measure(t),A=r.map(C.measure),P=function(e,t){let r="rtl"===t,n="y"===e,s=!n&&r?-1:1;return{scroll:n?"y":"x",cross:n?"x":"y",startEdge:n?"top":r?"right":"left",endEdge:n?"bottom":r?"left":"right",measureSize:function(e){let{height:t,width:r}=e;return n?t:r},direction:function(e){return e*s}}}(u,d),q=P.measureSize(S),E={measure:function(e){return e/100*q}},O=function(e,t){let r={start:function(){return 0},center:function(e){return(t-e)/2},end:function(e){return t-e}};return{measure:function(n,s){return _(e)?r[e](n):e(t,n,s)}}}(c,q),D=!p&&!!w,{slideSizes:I,slideSizesWithGaps:L,startGap:M,endGap:z}=function(e,t,r,n,s,i){let{measureSize:a,startEdge:o,endEdge:l}=e,c=r[0]&&s,u=function(){if(!c)return 0;let e=r[0];return H(t[o]-e[o])}(),d=c?parseFloat(i.getComputedStyle(B(n)).getPropertyValue(`margin-${l}`)):0,f=r.map(a),p=r.map((e,t,r)=>{let n=t===Z(r);return t?n?f[t]+d:r[t+1][o]-e[o]:f[t]+u}).map(H);return{slideSizes:f,slideSizesWithGaps:p,startGap:u,endGap:d}}(P,S,A,r,p||!!w,s),G=function(e,t,r,n,s,i,a,o,l){let{startEdge:c,endEdge:u,direction:d}=e,f=F(r);return{groupSlides:function(e){return f?V(e).filter(e=>e%r==0).map(t=>e.slice(t,t+r)):e.length?V(e).reduce((r,l,f)=>{let p=B(r)||0,m=l===Z(e),h=s[c]-i[p][c],x=s[c]-i[l][u],g=n||0!==p?0:d(a),y=H(x-(!n&&m?d(o):0)-(h+g));return f&&y>t+2&&r.push(l),m&&r.push(e.length),r},[]).map((t,r,n)=>{let s=Math.max(n[r-1]||0);return e.slice(s,t)}):[]}}}(P,q,y,p,S,A,M,z,0),{snaps:R,snapsAligned:T}=function(e,t,r,n,s){let{startEdge:i,endEdge:a}=e,{groupSlides:o}=s,l=o(n).map(e=>B(e)[a]-e[0][i]).map(H).map(t.measure),c=n.map(e=>r[i]-e[i]).map(e=>-H(e)),u=o(c).map(e=>e[0]).map((e,t)=>e+l[t]);return{snaps:c,snapsAligned:u}}(P,O,S,A,G),et=-B(R)+B(L),{snapsContained:er,scrollContainLimit:en}=function(e,t,r,n,s){let i=X(-t+e,0),a=r.map((e,t)=>{let{min:n,max:s}=i,a=i.constrain(e),o=t===Z(r);return t?o||function(e,t){return 1>=H(e-t)}(n,a)?n:function(e,t){return 1>=H(e-t)}(s,a)?s:a:s}).map(e=>parseFloat(e.toFixed(3))),o=function(){let e=a[0],t=B(a);return X(a.lastIndexOf(e),a.indexOf(t)+1)}();function l(e,t){return 1>=H(e-t)}return{snapsContained:function(){if(t<=e+2)return[i.max];if("keepSnaps"===n)return a;let{min:r,max:s}=o;return a.slice(r,s)}(),scrollContainLimit:o}}(q,et,T,w,0),es=D?er:T,{limit:ei}=function(e,t,r){let n=t[0];return{limit:X(r?n-e:B(t),n)}}(et,es,p),ea=function e(t,r,n){let{constrain:s}=X(0,t),i=t+1,a=o(r);function o(e){return n?H((i+e)%i):s(e)}function l(){return e(t,a,n)}let c={get:function(){return a},set:function(e){return a=o(e),c},add:function(e){return l().set(a+e)},clone:l};return c}(Z(es),f,p),eo=ea.clone(),el=V(r),ec=({dragHandler:e,scrollBody:t,scrollBounds:r,options:{loop:n}})=>{n||r.constrain(e.pointerDown()),t.seek()},eu=({scrollBody:e,translate:t,location:r,offsetLocation:n,previousLocation:s,scrollLooper:i,slideLooper:a,dragHandler:o,animation:l,eventHandler:c,scrollBounds:u,options:{loop:d}},f)=>{let p=e.settled(),m=!u.shouldConstrain(),h=d?p:p&&m,x=h&&!o.pointerDown();x&&l.stop();let g=r.get()*f+s.get()*(1-f);n.set(g),d&&(i.loop(e.direction()),a.loop()),t.to(n.get()),x&&c.emit("settle"),h||c.emit("scroll")},ed=function(e,t,r,n){let s=K(),i=1e3/60,a=null,o=0,l=0;function c(e){if(!l)return;a||(a=e,r(),r());let s=e-a;for(a=e,o+=s;o>=i;)r(),o-=i;n(o/i),l&&(l=t.requestAnimationFrame(c))}function u(){t.cancelAnimationFrame(l),a=null,o=0,l=0}return{init:function(){s.add(e,"visibilitychange",()=>{e.hidden&&(a=null,o=0)})},destroy:function(){u(),s.clear()},start:function(){l||(l=t.requestAnimationFrame(c))},stop:u,update:r,render:n}}(n,s,()=>ec(eC),e=>eu(eC,e)),ef=es[ea.get()],ep=Q(ef),em=Q(ef),eh=Q(ef),ex=Q(ef),eg=function(e,t,r,n,s,i){let a=0,o=0,l=s,c=.68,u=e.get(),d=0;function f(e){return l=e,m}function p(e){return c=e,m}let m={direction:function(){return o},duration:function(){return l},velocity:function(){return a},seek:function(){let t=n.get()-e.get(),s=0;return l?(r.set(e),a+=t/l,a*=c,u+=a,e.add(a),s=u-d):(a=0,r.set(n),e.set(n),s=t),o=U(s),d=u,m},settled:function(){return .001>H(n.get()-t.get())},useBaseFriction:function(){return p(.68)},useBaseDuration:function(){return f(s)},useFriction:p,useDuration:f};return m}(ep,eh,em,ex,m,.68),ey=function(e,t,r,n,s){let{reachedAny:i,removeOffset:a,constrain:o}=n;function l(e){return e.concat().sort((e,t)=>H(e)-H(t))[0]}function c(t,n){let s=[t,t+r,t-r];if(!e)return t;if(!n)return l(s);let i=s.filter(e=>U(e)===n);return i.length?l(i):B(s)-r}return{byDistance:function(r,n){let l=s.get()+r,{index:u,distance:d}=function(r){let n=e?a(r):o(r),{index:s}=t.map((e,t)=>({diff:c(e-n,0),index:t})).sort((e,t)=>H(e.diff)-H(t.diff))[0];return{index:s,distance:n}}(l),f=!e&&i(l);if(!n||f)return{index:u,distance:r};let p=r+c(t[u]-d,0);return{index:u,distance:p}},byIndex:function(e,r){let n=c(t[e]-s.get(),r);return{index:e,distance:n}},shortcut:c}}(p,es,et,ei,ex),ev=function(e,t,r,n,s,i,a){function o(s){let o=s.distance,l=s.index!==t.get();i.add(o),o&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),l&&(r.set(t.get()),t.set(s.index),a.emit("select"))}return{distance:function(e,t){o(s.byDistance(e,t))},index:function(e,r){let n=t.clone().set(e);o(s.byIndex(n.get(),r))}}}(ed,ea,eo,eg,ey,ex,a),ew=function(e){let{max:t,length:r}=e;return{get:function(e){return r?-((e-t)/r):0}}}(ei),ej=K(),eb=function(e,t,r,n){let s,i={},a=null,o=null,l=!1;return{init:function(){s=new IntersectionObserver(e=>{l||(e.forEach(e=>{i[t.indexOf(e.target)]=e}),a=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(e=>s.observe(e))},destroy:function(){s&&s.disconnect(),l=!0},get:function(e=!0){if(e&&a)return a;if(!e&&o)return o;let t=J(i).reduce((t,r)=>{let n=parseInt(r),{isIntersecting:s}=i[n];return(e&&s||!e&&!s)&&t.push(n),t},[]);return e&&(a=t),e||(o=t),t}}}(t,r,a,g),{slideRegistry:eN}=function(e,t,r,n,s,i){let{groupSlides:a}=s,{min:o,max:l}=n;return{slideRegistry:function(){let n=a(i);return 1===r.length?[i]:e&&"keepSnaps"!==t?n.slice(o,l).map((e,t,r)=>{let n=t===Z(r);return t?n?Y(Z(i)-B(r)[0]+1,B(r)[0]):e:Y(B(r[0])+1)}):n}()}}(D,w,es,en,G,el),ek=function(e,t,r,n,s,i,a,o){let l={passive:!0,capture:!0},c=0;function u(e){"Tab"===e.code&&(c=new Date().getTime())}return{init:function(d){o&&(i.add(document,"keydown",u,!1),t.forEach((t,u)=>{i.add(t,"focus",t=>{($(o)||o(d,t))&&function(t){if(new Date().getTime()-c>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;let i=r.findIndex(e=>e.includes(t));F(i)&&(s.useDuration(0),n.index(i,0),a.emit("slideFocus"))}(u)},l)}))}}}(e,r,eN,ev,eg,ej,a,k),eC={ownerDocument:n,ownerWindow:s,eventHandler:a,containerRect:S,slideRects:A,animation:ed,axis:P,dragHandler:function(e,t,r,n,s,i,a,o,l,c,u,d,f,p,m,h,x,g,y){let{cross:v,direction:w}=e,j=["INPUT","SELECT","TEXTAREA"],b={passive:!1},N=K(),k=K(),C=X(50,225).constrain(p.measure(20)),S={mouse:300,touch:400},A={mouse:500,touch:600},P=m?43:25,q=!1,E=0,O=0,D=!1,I=!1,L=!1,M=!1;function z(e){if(!W(e,n)&&e.touches.length>=2)return G(e);let t=i.readPoint(e),r=i.readPoint(e,v),a=H(t-E),l=H(r-O);if(!I&&!M&&(!e.cancelable||!(I=a>l)))return G(e);let u=i.pointerMove(e);a>h&&(L=!0),c.useFriction(.3).useDuration(.75),o.start(),s.add(w(u)),e.preventDefault()}function G(e){let t=u.byDistance(0,!1).index!==d.get(),r=i.pointerUp(e)*(m?A:S)[M?"mouse":"touch"],n=function(e,t){let r=d.add(-1*U(e)),n=u.byDistance(e,!m).distance;return m||H(e)<C?n:x&&t?.5*n:u.byIndex(r.get(),0).distance}(w(r),t),s=function(e,t){var r,n;if(0===e||0===t||H(e)<=H(t))return 0;let s=(r=H(e),n=H(t),H(r-n));return H(s/e)}(r,n);I=!1,D=!1,k.clear(),c.useDuration(P-10*s).useFriction(.68+s/50),l.distance(n,!m),M=!1,f.emit("pointerUp")}function R(e){L&&(e.stopPropagation(),e.preventDefault(),L=!1)}return{init:function(e){y&&N.add(t,"dragstart",e=>e.preventDefault(),b).add(t,"touchmove",()=>void 0,b).add(t,"touchend",()=>void 0).add(t,"touchstart",o).add(t,"mousedown",o).add(t,"touchcancel",G).add(t,"contextmenu",G).add(t,"click",R,!0);function o(o){($(y)||y(e,o))&&function(e){let o=W(e,n);if((M=o,L=m&&o&&!e.buttons&&q,q=H(s.get()-a.get())>=2,!o||0===e.button)&&!function(e){let t=e.nodeName||"";return j.includes(t)}(e.target)){D=!0,i.pointerDown(e),c.useFriction(0).useDuration(0),s.set(a);let n=M?r:t;k.add(n,"touchmove",z,b).add(n,"touchend",G).add(n,"mousemove",z,b).add(n,"mouseup",G),E=i.readPoint(e),O=i.readPoint(e,v),f.emit("pointerDown")}}(o)}},destroy:function(){N.clear(),k.clear()},pointerDown:function(){return D}}}(P,e,n,s,ex,function(e,t){let r,n;function s(e){return e.timeStamp}function i(r,n){let s=n||e.scroll,i=`client${"x"===s?"X":"Y"}`;return(W(r,t)?r:r.touches[0])[i]}return{pointerDown:function(e){return r=e,n=e,i(e)},pointerMove:function(e){let t=i(e)-i(n),a=s(e)-s(r)>170;return n=e,a&&(r=e),t},pointerUp:function(e){if(!r||!n)return 0;let t=i(n)-i(r),a=s(e)-s(r),o=s(e)-s(n)>170,l=t/a;return a&&!o&&H(l)>.1?l:0},readPoint:i}}(P,s),ep,ed,ev,eg,ey,ea,a,E,h,x,v,0,N),eventStore:ej,percentOfView:E,index:ea,indexPrevious:eo,limit:ei,location:ep,offsetLocation:eh,previousLocation:em,options:i,resizeHandler:function(e,t,r,n,s,i,a){let o,l,c=[e].concat(n),u=[],d=!1;function f(e){return s.measureSize(a.measure(e))}return{init:function(s){i&&(l=f(e),u=n.map(f),o=new ResizeObserver(r=>{($(i)||i(s,r))&&function(r){for(let i of r){if(d)return;let r=i.target===e,a=n.indexOf(i.target),o=r?l:u[a];if(H(f(r?e:n[a])-o)>=.5){s.reInit(),t.emit("resize");break}}}(r)}),r.requestAnimationFrame(()=>{c.forEach(e=>o.observe(e))}))},destroy:function(){d=!0,o&&o.disconnect()}}}(t,a,s,r,P,j,C),scrollBody:eg,scrollBounds:function(e,t,r,n,s){let i=s.measure(10),a=s.measure(50),o=X(.1,.99),l=!1;function c(){return!l&&!!e.reachedAny(r.get())&&!!e.reachedAny(t.get())}return{shouldConstrain:c,constrain:function(s){if(!c())return;let l=e.reachedMin(t.get())?"min":"max",u=H(e[l]-t.get()),d=r.get()-t.get(),f=o.constrain(u/a);r.subtract(d*f),!s&&H(d)<i&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())},toggleActive:function(e){l=!e}}}(ei,eh,ex,eg,E),scrollLooper:function(e,t,r,n){let{reachedMin:s,reachedMax:i}=X(t.min+.1,t.max+.1);return{loop:function(t){if(!(1===t?i(r.get()):-1===t&&s(r.get())))return;let a=-1*t*e;n.forEach(e=>e.add(a))}}}(et,ei,eh,[ep,eh,em,ex]),scrollProgress:ew,scrollSnapList:es.map(ew.get),scrollSnaps:es,scrollTarget:ey,scrollTo:ev,slideLooper:function(e,t,r,n,s,i,a,o,l){let c=V(s),u=V(s).reverse(),d=m(p(u,a[0]),r,!1).concat(m(p(c,t-a[0]-1),-r,!0));function f(e,t){return e.reduce((e,t)=>e-s[t],t)}function p(e,t){return e.reduce((e,r)=>f(e,t)>0?e.concat([r]):e,[])}function m(s,a,c){let u=i.map((e,r)=>({start:e-n[r]+.5+a,end:e+t-.5+a}));return s.map(t=>{let n=c?0:-r,s=c?r:0,i=u[t][c?"end":"start"];return{index:t,loopPoint:i,slideLocation:Q(-1),translate:ee(e,l[t]),target:()=>o.get()>i?n:s}})}return{canLoop:function(){return d.every(({index:e})=>.1>=f(c.filter(t=>t!==e),t))},clear:function(){d.forEach(e=>e.translate.clear())},loop:function(){d.forEach(e=>{let{target:t,translate:r,slideLocation:n}=e,s=t();s!==n.get()&&(r.to(s),n.set(s))})},loopPoints:d}}(P,q,et,I,L,R,es,eh,r),slideFocus:ek,slidesHandler:(l=!1,{init:function(e){b&&(o=new MutationObserver(t=>{!l&&($(b)||b(e,t))&&function(t){for(let r of t)if("childList"===r.type){e.reInit(),a.emit("slidesChanged");break}}(t)})).observe(t,{childList:!0})},destroy:function(){o&&o.disconnect(),l=!0}}),slidesInView:eb,slideIndexes:el,slideRegistry:eN,slidesToScroll:G,target:ex,translate:ee(P,t)};return eC}(e,i,a,l,c,r,p);return r.loop&&!n.slideLooper.canLoop()?t(Object.assign({},r,{loop:!1})):n}(b),x([j,...N.map(({options:e})=>e)]).forEach(e=>f.add(e,"change",C)),b.active&&(n.translate.to(n.location.get()),n.animation.init(),n.slidesInView.init(),n.slideFocus.init(q),n.eventHandler.init(q),n.resizeHandler.init(q),n.slidesHandler.init(q),n.options.loop&&n.slideLooper.loop(),i.offsetParent&&a.length&&n.dragHandler.init(q),s=d.init(q,N))}function C(e,t){let r=P();S(),k(m({startIndex:r},e),t),p.emit("reInit")}function S(){n.dragHandler.destroy(),n.eventStore.clear(),n.translate.clear(),n.slideLooper.clear(),n.resizeHandler.destroy(),n.slidesHandler.destroy(),n.slidesInView.destroy(),n.animation.destroy(),d.destroy(),f.clear()}function A(e,t,r){b.active&&!w&&(n.scrollBody.useBaseFriction().useDuration(!0===t?0:b.duration),n.scrollTo.index(e,r||0))}function P(){return n.index.get()}let q={canScrollNext:function(){return n.index.add(1).get()!==P()},canScrollPrev:function(){return n.index.add(-1).get()!==P()},containerNode:function(){return i},internalEngine:function(){return n},destroy:function(){w||(w=!0,f.clear(),S(),p.emit("destroy"),p.clear())},off:y,on:g,emit:v,plugins:function(){return s},previousScrollSnap:function(){return n.indexPrevious.get()},reInit:C,rootNode:function(){return e},scrollNext:function(e){A(n.index.add(1).get(),e,-1)},scrollPrev:function(e){A(n.index.add(-1).get(),e,1)},scrollProgress:function(){return n.scrollProgress.get(n.offsetLocation.get())},scrollSnapList:function(){return n.scrollSnapList},scrollTo:A,selectedScrollSnap:P,slideNodes:function(){return a},slidesInView:function(){return n.slidesInView.get()},slidesNotInView:function(){return n.slidesInView.get(!1)}};return k(t,r),setTimeout(()=>p.emit("init"),0),q}function en(e={},t=[]){let r=(0,b.useRef)(e),n=(0,b.useRef)(t),[s,i]=(0,b.useState)(),[a,o]=(0,b.useState)(),l=(0,b.useCallback)(()=>{s&&s.reInit(r.current,n.current)},[s]);return(0,b.useEffect)(()=>{G(r.current,e)||(r.current=e,l())},[e,l]),(0,b.useEffect)(()=>{!function(e,t){if(e.length!==t.length)return!1;let r=R(e),n=R(t);return r.every((e,t)=>G(e,n[t]))}(n.current,t)&&(n.current=t,l())},[t,l]),(0,b.useEffect)(()=>{if("undefined"!=typeof window&&window.document&&window.document.createElement&&a){er.globalOptions=en.globalOptions;let e=er(a,r.current,n.current);return i(e),()=>e.destroy()}i(void 0)},[a,i]),[o,s]}er.globalOptions=void 0,en.globalOptions=void 0;var es=r(55817);let ei=(0,o.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ea=b.createContext(null);function eo(){let e=b.useContext(ea);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let el=b.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:s,className:i,children:a,...o},l)=>{let[c,u]=en({...t,axis:"horizontal"===e?"x":"y"},s),[d,f]=b.useState(!1),[p,m]=b.useState(!1),h=b.useCallback(e=>{e&&(f(e.canScrollPrev()),m(e.canScrollNext()))},[]),x=b.useCallback(()=>{u?.scrollPrev()},[u]),g=b.useCallback(()=>{u?.scrollNext()},[u]),y=b.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),x()):"ArrowRight"===e.key&&(e.preventDefault(),g())},[x,g]);return b.useEffect(()=>{u&&r&&r(u)},[u,r]),b.useEffect(()=>{if(u)return h(u),u.on("reInit",h),u.on("select",h),()=>{u?.off("select",h)}},[u,h]),(0,n.jsx)(ea.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||(t?.axis==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:g,canScrollPrev:d,canScrollNext:p},children:(0,n.jsx)("div",{ref:l,onKeyDownCapture:y,className:(0,C.cn)("relative",i),role:"region","aria-roledescription":"carousel",...o,children:a})})});el.displayName="Carousel";let ec=b.forwardRef(({className:e,...t},r)=>{let{carouselRef:s,orientation:i}=eo();return(0,n.jsx)("div",{ref:s,className:"overflow-hidden",children:(0,n.jsx)("div",{ref:r,className:(0,C.cn)("flex","horizontal"===i?"-ml-4":"-mt-4 flex-col",e),...t})})});ec.displayName="CarouselContent";let eu=b.forwardRef(({className:e,...t},r)=>{let{orientation:s}=eo();return(0,n.jsx)("div",{ref:r,role:"group","aria-roledescription":"slide",className:(0,C.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===s?"pl-4":"pt-4",e),...t})});eu.displayName="CarouselItem",b.forwardRef(({className:e,variant:t="outline",size:r="icon",...i},a)=>{let{orientation:o,scrollPrev:l,canScrollPrev:c}=eo();return(0,n.jsxs)(s.$,{ref:a,variant:t,size:r,className:(0,C.cn)("absolute  h-8 w-8 rounded-full","horizontal"===o?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!c,onClick:l,...i,children:[(0,n.jsx)(es.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Previous slide"})]})}).displayName="CarouselPrevious",b.forwardRef(({className:e,variant:t="outline",size:r="icon",...i},a)=>{let{orientation:o,scrollNext:l,canScrollNext:c}=eo();return(0,n.jsxs)(s.$,{ref:a,variant:t,size:r,className:(0,C.cn)("absolute h-8 w-8 rounded-full","horizontal"===o?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!c,onClick:l,...i,children:[(0,n.jsx)(ei,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Next slide"})]})}).displayName="CarouselNext";var ed=r(16189);function ef({plant:e,open:t,onOpenChange:r}){return e?(0,n.jsx)(k.lG,{open:t,onOpenChange:r,children:(0,n.jsxs)(k.Cf,{className:"max-w-sm",children:[(0,n.jsx)(k.c7,{children:(0,n.jsx)(k.L3,{className:"text-3xl text-center",children:"A new plant!"})}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-4 py-4",children:[(0,n.jsx)("div",{className:"w-64 h-64 rounded-lg overflow-hidden border-4 border-primary/50 shadow-lg bg-green-100",children:(0,n.jsx)(j.default,{src:e.imageDataUri,alt:e.name,width:256,height:256,className:"object-cover w-full h-full"})}),(0,n.jsx)("h3",{className:"text-2xl font-semibold text-primary",children:e.name}),(0,n.jsx)("p",{className:"text-muted-foreground text-center",children:e.description})]}),(0,n.jsx)(k.Es,{children:(0,n.jsx)(k.HM,{asChild:!0,children:(0,n.jsx)(s.$,{className:"w-full text-lg",children:"Collect"})})})]})}):null}function ep({open:e,onOpenChange:t}){let r=(0,ed.useRouter)();return(0,n.jsx)(k.lG,{open:e,onOpenChange:t,children:(0,n.jsxs)(k.Cf,{className:"max-w-sm",children:[(0,n.jsxs)(k.c7,{children:[(0,n.jsx)("div",{className:"mx-auto bg-accent rounded-full p-3 mb-2",children:(0,n.jsx)(a.A,{className:"h-8 w-8 text-accent-foreground"})}),(0,n.jsx)(k.L3,{className:"text-2xl text-center",children:"New: The Community Page!"}),(0,n.jsxs)(k.rr,{className:"text-center pt-2",children:["Check out the new Community page to see what other players are growing. You can like their showcases to give them 5 gold!",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"Go to your Profile to select which of your own plants you want to show off."]})]}),(0,n.jsxs)(k.Es,{className:"gap-2 sm:gap-0",children:[(0,n.jsx)(s.$,{variant:"outline",onClick:()=>{r.push("/profile"),t(!1)},children:"Go to Profile"}),(0,n.jsx)(k.HM,{asChild:!0,children:(0,n.jsx)(s.$,{children:"Got it!"})})]})]})})}function em({open:e,onOpenChange:t}){return(0,n.jsx)(k.lG,{open:e,onOpenChange:t,children:(0,n.jsxs)(k.Cf,{className:"max-w-sm",children:[(0,n.jsxs)(k.c7,{children:[(0,n.jsx)("div",{className:"mx-auto bg-accent rounded-full p-3 mb-2",children:(0,n.jsx)(l,{className:"h-8 w-8 text-accent-foreground"})}),(0,n.jsx)(k.L3,{className:"text-2xl text-center",children:"New Game Updates!"}),(0,n.jsxs)(k.rr,{className:"text-center pt-2",children:["Keep the streak going! After you complete all your daily challenges, a new set of **Bonus Challenges** will now appear.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"Complete them for even more rewards!"]})]}),(0,n.jsx)(k.Es,{children:(0,n.jsx)(k.HM,{asChild:!0,children:(0,n.jsx)(s.$,{className:"w-full",children:"Awesome!"})})})]})})}function eh({open:e,onOpenChange:t}){let r=(0,ed.useRouter)();return(0,n.jsx)(k.lG,{open:e,onOpenChange:t,children:(0,n.jsxs)(k.Cf,{className:"max-w-sm",children:[(0,n.jsxs)(k.c7,{children:[(0,n.jsx)("div",{className:"mx-auto bg-accent rounded-full p-3 mb-2",children:(0,n.jsx)(c.A,{className:"h-8 w-8 text-accent-foreground"})}),(0,n.jsx)(k.L3,{className:"text-2xl text-center",children:"Watering Has Moved!"}),(0,n.jsx)(k.rr,{className:"text-center pt-2",children:"All your plant care, including watering and evolution, now happens in the new **Garden** page. Visit your garden to help your plants grow!"})]}),(0,n.jsxs)(k.Es,{className:"gap-2 sm:gap-0",children:[(0,n.jsx)(s.$,{variant:"outline",onClick:()=>{r.push("/garden"),t(!1)},children:"Go to Garden"}),(0,n.jsx)(k.HM,{asChild:!0,children:(0,n.jsx)(s.$,{children:"Got it!"})})]})]})})}function ex({challenge:e,onClaim:t,isClaiming:r}){let i=e.progress>=e.target;return(0,n.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-muted/50",children:[(0,n.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,n.jsx)("p",{className:"font-semibold text-primary",children:e.title}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(P.k,{value:e.progress/e.target*100,className:"h-2 w-full"}),(0,n.jsxs)("span",{className:"text-xs font-mono text-muted-foreground",children:[e.progress,"/",e.target]})]})]}),(0,n.jsx)(s.$,{onClick:()=>t(e.id),disabled:!i||e.claimed||r,size:"sm",children:r?(0,n.jsx)(u.A,{className:"animate-spin"}):e.claimed?(0,n.jsx)(d.A,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.A,{className:"mr-1 h-3 w-3"})," ",e.reward]})})]})}let eg=["Go to the Garden to water your plants and help them grow.","Drag plants from your collection onto the plots in your garden to display them.","Complete daily challenges to earn extra gold.","Visit the shop to get daily free draws or buy more with your gold.","Show off your favorite plants on the community page by selecting them in your profile."];function ey(){let{user:e,gameData:t}=(0,q.A)(),{toast:r}=(0,N.dj)(),{playSfx:a}=(0,A.n)();(0,ed.useRouter)();let[o,c]=(0,b.useState)(null),[f,v]=(0,b.useState)(!1),[k,L]=(0,b.useState)(null),[z,G]=(0,b.useState)(!1),[R,F]=(0,b.useState)(""),[_,$]=(0,b.useState)(!1),[T,H]=(0,b.useState)(!1),[U,V]=(0,b.useState)(!1),B=(0,b.useRef)(M({delay:4e3,stopOnInteraction:!0})),Z=async()=>{if(e){if(!t||t.draws<=0)return void r({variant:"destructive",title:"No Draws Left",description:"Visit the shop to get more draws or wait for your daily refill."});v(!0);try{await (0,S.iF)(e.uid);let r=t.plants?Object.values(t.plants).map(e=>e.name):[],n=await (0,D.G)(r),s=await (0,O.w)(n.imageDataUri);a("success"),L({...n,imageDataUri:s})}catch(t){console.error(t),await (0,S.tM)(e.uid),"Invalid API Key"===t.message?r({variant:"destructive",title:"Invalid API Key",description:"Please check your GOOGLE_API_KEY. Your draw has been refunded."}):r({variant:"destructive",title:"Failed to draw a plant",description:"There was an issue with the AI. Your draw has been refunded."})}finally{v(!1)}}},Y=async()=>{if(k&&e){try{let t=JSON.parse(JSON.stringify(k)),r=await (0,E.VS)(e.uid,t);c(r),await (0,I.JD)(e.uid)}catch(e){console.error("Failed to save plant to Firestore",e),r({variant:"destructive",title:"Storage Error",description:"Could not save your new plant."})}L(null)}},J=async t=>{if(e){G(!0);try{await (0,I.XU)(e.uid,t),a("reward"),r({title:"Reward Claimed!",description:"You've earned some gold!"})}catch(e){console.error("Failed to claim challenge reward",e),r({variant:"destructive",title:"Claiming Error",description:e.message||"Could not claim your reward."})}finally{G(!1)}}},W=(0,b.useMemo)(()=>!!t?.challenges&&Object.values(I.dt).every(e=>{let r=t.challenges[e.id];return r?.claimed||(r?.progress||0)>=e.target}),[t?.challenges]),K=W?I.hJ:I.dt;if(!e||!t)return(0,n.jsx)("div",{className:"flex h-screen w-full items-center justify-center",children:(0,n.jsx)(u.A,{className:"h-8 w-8 animate-spin text-primary"})});let X=t.challenges;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"p-4 space-y-6 bg-white pb-[3.75rem]",children:[(0,n.jsxs)("header",{className:"flex flex-col items-center space-y-2",children:[(0,n.jsx)("h1",{className:"text-3xl text-primary font-bold text-center",children:"Plenty Of Plants"}),(0,n.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,n.jsx)(s.$,{variant:"outline",size:"sm",asChild:!0,children:(0,n.jsxs)(w(),{href:"/settings",children:[(0,n.jsx)(p,{className:"mr-2 h-4 w-4"}),"Settings"]})}),(0,n.jsx)(s.$,{variant:"outline",size:"sm",asChild:!0,children:(0,n.jsxs)(w(),{href:"/profile",children:[(0,n.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Profile"]})})]})]}),(0,n.jsxs)("main",{className:"space-y-6",children:[(0,n.jsxs)(i.Zp,{className:"shadow-sm",children:[(0,n.jsx)(i.aR,{children:(0,n.jsx)(i.ZB,{className:"text-xl text-center",children:"Your Latest Plant"})}),(0,n.jsx)(i.Wu,{className:"flex flex-col items-center justify-center text-center min-h-[260px]",children:o?(0,n.jsxs)(w(),{href:"/garden",className:"flex flex-col items-center gap-2 transition-transform hover:scale-105",children:[(0,n.jsx)("div",{className:"w-48 h-48 rounded-lg overflow-hidden border-2 border-primary/30 shadow-md",children:"placeholder"!==o.image?(0,n.jsx)(j.default,{src:o.image,alt:o.name,width:192,height:192,className:"object-cover w-full h-full","data-ai-hint":o.hint}):(0,n.jsx)("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:(0,n.jsx)(h.A,{className:"w-16 h-16 text-muted-foreground"})})}),(0,n.jsx)("h3",{className:"text-xl font-semibold text-primary",children:o.name}),(0,n.jsx)("div",{className:"w-4/5",children:(0,n.jsx)(P.k,{value:o.xp/1e3*100,className:"h-2"})})]}):(0,n.jsx)("p",{className:"text-muted-foreground",children:"No plants collected yet. Time to draw one!"})})]}),X&&(0,n.jsxs)(i.Zp,{className:"shadow-sm",children:[(0,n.jsx)(i.aR,{children:(0,n.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,n.jsx)(l,{className:"text-yellow-500"}),W?"Bonus Challenges":"Daily Challenges"]})}),(0,n.jsx)(i.Wu,{className:"space-y-3",children:Object.values(K).map(e=>{let t=X[e.id]||{progress:0,claimed:!1},r={...e,...t};return(0,n.jsx)(ex,{challenge:r,onClaim:J,isClaiming:z},e.id)})})]}),(0,n.jsx)(i.Zp,{className:"shadow-sm",children:(0,n.jsxs)(i.Wu,{className:"flex flex-col items-center gap-4 pt-6",children:[(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,n.jsx)("div",{className:"flex items-center gap-3",children:Array.from({length:S.RY}).map((e,r)=>{let s=r<t.draws;return(0,n.jsx)("div",{className:(0,C.cn)("h-8 w-8 rounded-full flex items-center justify-center text-white shadow-inner",s?"bg-green-500":"bg-red-500"),children:s?(0,n.jsx)(d.A,{className:"h-5 w-5"}):(0,n.jsx)(x.A,{className:"h-5 w-5"})},r)})}),(0,n.jsxs)("div",{className:"text-sm text-muted-foreground text-center",children:[(0,n.jsx)("span",{children:"Draws Available"}),t.draws<S.RY&&R&&(0,n.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center justify-center gap-1.5 pt-1",children:[(0,n.jsx)(g.A,{className:"w-3 h-3"}),(0,n.jsx)("span",{children:R})]})]})]}),(0,n.jsx)(s.$,{onClick:Z,disabled:f||t.draws<=0,size:"lg",className:"w-full rounded-full mt-2",children:f?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Drawing..."]}):"Draw New Plant"})]})}),(0,n.jsxs)(i.Zp,{className:"shadow-sm",children:[(0,n.jsx)(i.aR,{children:(0,n.jsxs)(i.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,n.jsx)(y,{className:"text-primary"}),"Game Tips"]})}),(0,n.jsx)(i.Wu,{children:(0,n.jsx)(el,{plugins:[B.current],opts:{align:"start",loop:!0},className:"w-full",onMouseEnter:()=>B.current.stop(),onMouseLeave:()=>B.current.reset(),children:(0,n.jsx)(ec,{children:eg.map((e,t)=>(0,n.jsx)(eu,{children:(0,n.jsx)("div",{className:"p-1 h-16 flex items-center justify-center",children:(0,n.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:e})})},t))})})})]})]}),(0,n.jsx)(ef,{plant:k,open:!!k,onOpenChange:e=>{e||Y()}}),(0,n.jsx)(ep,{open:_,onOpenChange:e=>{e||(localStorage.setItem("hasSeenCommunityInfo","true"),$(!1))}}),(0,n.jsx)(em,{open:T,onOpenChange:e=>{e||(localStorage.setItem("hasSeenGameChangesInfo_v1","true"),H(!1))}}),(0,n.jsx)(eh,{open:U,onOpenChange:e=>{e||(localStorage.setItem("hasSeenGardenInfo_v1","true"),V(!1))}}),(0,n.jsx)(w(),{href:"/garden",children:(0,n.jsxs)(s.$,{size:"lg",className:"fixed bottom-40 right-4 h-16 w-16 rounded-full bg-green-500 hover:bg-green-600 shadow-lg flex-col gap-1",children:[(0,n.jsx)(h.A,{className:"h-6 w-6 text-white"}),(0,n.jsx)("span",{className:"text-xs text-white",children:"Garden"})]})})]}),(0,n.jsx)("footer",{className:"text-center text-xs text-muted-foreground pb-2",children:(0,n.jsx)("p",{children:"\xa9 2025 Sky Mountain Graphics. All Rights Reserved."})})]})}},74998:e=>{"use strict";e.exports=require("perf_hooks")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},76760:e=>{"use strict";e.exports=require("node:path")},77030:e=>{"use strict";e.exports=require("node:net")},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79748:e=>{"use strict";e.exports=require("fs/promises")},81202:(e,t,r)=>{Promise.resolve().then(r.bind(r,97551))},81630:e=>{"use strict";e.exports=require("http")},84297:e=>{"use strict";e.exports=require("async_hooks")},89708:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>f,tree:()=>c});var n=r(65239),s=r(48088),i=r(88170),a=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c={children:["",{children:["(app)",{children:["home",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,97551)),"/home/user/studio/src/app/(app)/home/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,70718)),"/home/user/studio/src/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["/home/user/studio/src/app/(app)/home/page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(app)/home/page",pathname:"/home",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},97551:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/(app)/home/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/(app)/home/page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[447,671,711,814,694,320,962,623,97],()=>r(89708));module.exports=n})();