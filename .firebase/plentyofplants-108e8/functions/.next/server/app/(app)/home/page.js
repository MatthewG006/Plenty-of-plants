(()=>{var e={};e.id=539,e.ids=[539],e.modules={643:e=>{"use strict";e.exports=require("node:perf_hooks")},1708:e=>{"use strict";e.exports=require("node:process")},2985:(e,t,r)=>{"use strict";r.d(t,{a:()=>g});var a=r(91199);r(42087);var s=r(95427),i=r(37612),n=r(79748),o=r.n(n),l=r(33873),d=r.n(l),c=r(33331);let u=i.z.object({name:i.z.string().describe("The creative and unique name of the new plant."),description:i.z.string().describe("A short, whimsical description of the plant."),imageDataUri:i.z.string().describe("A generated image of the plant, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'")});async function p(e,t){let r=(await o().readFile(e)).toString("base64");return`data:${t};base64,${r}`}let m=s.ai.definePrompt({name:"fallbackPlantDetailsPrompt",input:{schema:i.z.object({plantType:i.z.string().describe("The type of plant, e.g. 'succulent', 'fern'.")})},output:{format:"json",schema:i.z.object({name:i.z.string().describe("A creative and unique two-word name for the provided plant type."),description:i.z.string().describe("A short, whimsical, one-sentence description for this plant.")})},prompt:'You are a creative botanist for a game. For the plant type "{{plantType}}", generate a unique two-word name and a whimsical one-sentence description for it. Return the response as a JSON object.'}),h=s.ai.defineFlow({name:"getFallbackPlantFlow",inputSchema:i.z.object({}),outputSchema:u},async()=>{try{let e=d().join(process.cwd(),"public","fallback-plants");await o().mkdir(e,{recursive:!0});let t=(await o().readdir(e)).filter(e=>e.endsWith(".png")||e.endsWith(".jpg")||e.endsWith(".jpeg"));if(0===t.length)throw Error("No fallback images found in the directory.");let r=t[Math.floor(Math.random()*t.length)],a=d().parse(r).name,s=d().join(e,r),i=`image/${d().extname(r).substring(1)}`,n=await p(s,i),{output:l}=await m({plantType:a});if(!l)throw Error("Could not generate details for fallback.");return{name:l.name,description:l.description,imageDataUri:n}}catch(e){return console.error("Critical error in fallback flow, returning hardcoded plant.",e),{name:"Resilient Succulent",description:"This little plant survived an error to be here!",imageDataUri:"https://placehold.co/256x256.png"}}});(0,c.D)([h]),(0,a.A)(h,"7fbc9457e961ba121fffc4a9e74fa1764843839712",null);let f=i.z.object({existingNames:i.z.array(i.z.string()).optional().describe("A list of existing plant names to avoid duplicating.")}),x=i.z.object({name:i.z.string().describe("The creative and unique name of the new plant."),description:i.z.string().describe("A short, whimsical description of the plant."),imageDataUri:i.z.string().describe("A generated image of the plant, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'")});async function g(e=[]){return v({existingNames:e})}let b=s.ai.definePrompt({name:"plantDetailsPrompt",input:{schema:f},output:{schema:i.z.object({name:i.z.string().describe('A creative and unique name for a new fantasy plant. Should be two words. Avoid common plant names like "fern" or "cactus".'),description:i.z.string().describe("A short, whimsical description for this new plant, in one sentence."),imagePrompt:i.z.string().describe('A simple visual prompt for an image generation model to create a picture of this plant. e.g., "A whimsical glowing mushroom plant with a happy face."')})},prompt:`You are a creative botanist for a 2D game about collecting cute, magical plants. Generate one new, unique, and whimsical plant. The plant should have a cute and simple design, not a strange or other-worldly appearance. The plant must have a highly creative and unusual two-word name that is not a common plant type. It should also have a short, one-sentence description, and a prompt for an image generator.

You MUST NOT use any of the following names:
{{#each existingNames}}
- {{this}}
{{/each}}
`}),v=s.ai.defineFlow({name:"drawPlantFlow",inputSchema:f,outputSchema:x},async({existingNames:e})=>{try{let{output:t}=await b({existingNames:e});if(!t)throw Error("Could not generate plant details.");let r=d().join(process.cwd(),"public","fern.png"),a=await o().readFile(r),i=`data:image/png;base64,${a.toString("base64")}`,{media:n}=await s.ai.generate({model:"googleai/gemini-2.0-flash-preview-image-generation",prompt:[{media:{url:i,contentType:"image/png"}},{text:`Your primary goal is to replicate the art style of the provided reference image EXACTLY. Create a new plant character based on the description: "${t.imagePrompt}".

          You MUST adhere to the following rules without exception:
          1. **Art Style:** The final image must perfectly match the clean, 2D, illustrated style of the reference image.
          2. **The Pot:** The plant MUST be in a simple, smiling terracotta pot. The pot's style, shape, color, and happy face must be identical to the one in the reference image. Do not add feet, patterns, or any other decorations to the pot.
          3. **The Plant:** The new plant character must be cute and simple. It absolutely MUST NOT have arms, legs, or a human-like body.
          4. **The Background:** The background MUST be a solid, pure white. No gradients, textures, or shadows.
          5. **Composition:** The image must contain ONLY the single plant character in its pot. NO other objects, text, people, hands, or background elements are allowed.`}],config:{responseModalities:["TEXT","IMAGE"]}});if(!n||!n.url)throw Error("Could not generate plant image from AI.");let l=d().join(process.cwd(),"public","fallback-plants"),c=`${t.name.toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-")}.png`,u=d().join(l,c),p=n.url.split(";base64,").pop();if(p)try{await o().mkdir(l,{recursive:!0}),await o().writeFile(u,p,"base64"),console.log(`Saved new plant image to: ${u}`)}catch(e){console.error(`Failed to save new plant image to fallback folder: ${e}`)}return{name:t.name,description:t.description,imageDataUri:n.url}}catch(e){if(e.message&&e.message.includes("API key not valid"))throw console.error("Authentication Error: The provided Google AI API key is invalid or missing.",e),Error("Invalid API Key");return console.error("Primary plant generation failed, triggering fallback.",e),await h({})}});(0,c.D)([g]),(0,a.A)(g,"407c3e545aff6f125174734bb934867686df960b4e",null)},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},5666:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});var a=r(6475);let s=(0,a.createServerReference)("407c3e545aff6f125174734bb934867686df960b4e",a.callServer,void 0,a.findSourceMapURL,"drawPlant")},7252:e=>{"use strict";e.exports=require("express")},8487:(e,t,r)=>{"use strict";async function a(e,t=256){return new Promise((r,a)=>{let s=new window.Image;s.crossOrigin="anonymous",s.onload=()=>{let e=document.createElement("canvas"),{width:i,height:n}=s;i>n?i>t&&(n=Math.round(n*t/i),i=t):n>t&&(i=Math.round(i*t/n),n=t),e.width=i,e.height=n;let o=e.getContext("2d");if(!o)return a(Error("Could not get canvas context"));o.drawImage(s,0,0,i,n),r(e.toDataURL("image/jpeg",.7))},s.onerror=a,s.src=e})}r.d(t,{w:()=>a})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13475:(e,t,r)=>{Promise.resolve().then(r.bind(r,81077))},16141:e=>{"use strict";e.exports=require("node:zlib")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21114:(e,t,r)=>{Promise.resolve().then(r.bind(r,77003))},21750:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"407c3e545aff6f125174734bb934867686df960b4e":()=>a.a});var a=r(2985)},21820:e=>{"use strict";e.exports=require("os")},23562:(e,t,r)=>{"use strict";r.d(t,{k:()=>o});var a=r(60687),s=r(43210),i=r(25177),n=r(4780);let o=s.forwardRef(({className:e,value:t,...r},s)=>(0,a.jsx)(i.bL,{ref:s,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:(0,a.jsx)(i.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));o.displayName=i.bL.displayName},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29523:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>d});var a=r(60687),s=r(43210),i=r(11329),n=r(24224),o=r(4780),l=r(86632);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,onClick:n,disableSfx:c=!1,...u},p)=>{let m=s?i.DX:"button",{playSfx:h}=(0,l.G)();return(0,a.jsx)(m,{className:(0,o.cn)(d({variant:t,size:r,className:e})),ref:p,onClick:e=>{c||h("tap"),n&&n(e)},...u})});c.displayName="Button"},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37067:e=>{"use strict";e.exports=require("node:http")},37366:e=>{"use strict";e.exports=require("dns")},37451:(e,t,r)=>{Promise.resolve().then(r.bind(r,59511))},37830:e=>{"use strict";e.exports=require("node:stream/web")},44493:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>o,wL:()=>u});var a=r(60687),s=r(43210),i=r(4780);let n=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let o=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},44708:e=>{"use strict";e.exports=require("node:https")},47002:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=47002,e.exports=t},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},58595:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(82614).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},59511:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/components/bottom-nav-bar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/bottom-nav-bar.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63503:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>p,Es:()=>h,HM:()=>c,L3:()=>f,c7:()=>m,lG:()=>l});var a=r(60687),s=r(43210),i=r(23655),n=r(78726),o=r(4780);let l=i.bL;i.l9;let d=i.ZL,c=i.bm,u=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)(i.hJ,{ref:r,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));u.displayName=i.hJ.displayName;let p=s.forwardRef(({className:e,children:t,...r},s)=>(0,a.jsxs)(d,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(i.UC,{ref:s,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,(0,a.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));p.displayName=i.UC.displayName;let m=({className:e,...t})=>(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});m.displayName="DialogHeader";let h=({className:e,...t})=>(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});h.displayName="DialogFooter";let f=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)(i.hE,{ref:r,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));f.displayName=i.hE.displayName,s.forwardRef(({className:e,...t},r)=>(0,a.jsx)(i.VY,{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})).displayName=i.VY.displayName},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(31658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},70718:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(37413),s=r(59511);function i({children:e}){return(0,a.jsxs)("div",{className:"min-h-screen w-full",children:[(0,a.jsx)("main",{className:"pb-24",children:e}),(0,a.jsx)(s.default,{})]})}},73024:e=>{"use strict";e.exports=require("node:fs")},73136:e=>{"use strict";e.exports=require("node:url")},73496:e=>{"use strict";e.exports=require("http2")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},74998:e=>{"use strict";e.exports=require("perf_hooks")},76760:e=>{"use strict";e.exports=require("node:path")},77003:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var a=r(60687),s=r(29523),i=r(44493),n=r(11516),o=r(82614);let l=(0,o.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var d=r(58595),c=r(81292);let u=(0,o.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var p=r(78726),m=r(85814),h=r.n(m),f=r(30474),x=r(43210),g=r(5666),b=r(29867),v=r(63503),w=r(4780),y=r(53125),j=r(86632),N=r(23562),k=r(18780),q=r(79396),A=r(8487);function P({plant:e,open:t,onOpenChange:r}){return e?(0,a.jsx)(v.lG,{open:t,onOpenChange:r,children:(0,a.jsxs)(v.Cf,{className:"max-w-sm",children:[(0,a.jsx)(v.c7,{children:(0,a.jsx)(v.L3,{className:"text-3xl text-center",children:"A new plant!"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 py-4",children:[(0,a.jsx)("div",{className:"w-64 h-64 rounded-lg overflow-hidden border-4 border-primary/50 shadow-lg bg-green-100",children:(0,a.jsx)(f.default,{src:e.imageDataUri,alt:e.name,width:256,height:256,className:"object-cover w-full h-full"})}),(0,a.jsx)("h3",{className:"text-2xl font-semibold text-primary",children:e.name}),(0,a.jsx)("p",{className:"text-muted-foreground text-center",children:e.description})]}),(0,a.jsx)(v.Es,{children:(0,a.jsx)(v.HM,{asChild:!0,children:(0,a.jsx)(s.$,{className:"w-full text-lg",children:"Collect"})})})]})}):null}function C(){let{user:e,gameData:t}=(0,k.A)(),{toast:r}=(0,b.dj)(),{playSfx:o}=(0,j.G)(),[m,v]=(0,x.useState)(null),[C,z]=(0,x.useState)(!1),[T,E]=(0,x.useState)(null),_=async()=>{if(!t||t.draws<=0)return void r({variant:"destructive",title:"No Draws Left",description:"Visit the shop to get more draws or wait for your daily refill."});if(e){z(!0);try{await (0,y.iF)(e.uid);let r=t.plants?Object.values(t.plants).map(e=>e.name):[],a=await (0,g.a)(r),s=await (0,A.w)(a.imageDataUri);o("success"),E({...a,imageDataUri:s})}catch(e){console.error(e),"Invalid API Key"===e.message?r({variant:"destructive",title:"Invalid API Key",description:"Please check your GOOGLE_API_KEY in the .env file."}):r({variant:"destructive",title:"Failed to draw a plant",description:"There was an issue with the AI. Please try again."})}finally{z(!1)}}},S=async()=>{if(T&&e){try{let t=JSON.parse(JSON.stringify(T)),r=await (0,q.VS)(e.uid,t);v(r)}catch(e){console.error("Failed to save plant to Firestore",e),r({variant:"destructive",title:"Storage Error",description:"Could not save your new plant."})}E(null)}};return e&&t?(0,a.jsxs)("div",{className:"p-4 space-y-6 bg-white",children:[(0,a.jsxs)("header",{className:"flex flex-col items-center space-y-2",children:[(0,a.jsx)("h1",{className:"text-3xl text-foreground font-bold",children:"Plenty Of Plants"}),(0,a.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,a.jsx)(s.$,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsxs)(h(),{href:"/settings",children:[(0,a.jsx)(l,{className:"mr-2 h-4 w-4"}),"Settings"]})}),(0,a.jsx)(s.$,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsxs)(h(),{href:"/profile",children:[(0,a.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Profile"]})})]})]}),(0,a.jsxs)("main",{className:"space-y-6",children:[(0,a.jsxs)(i.Zp,{className:"shadow-sm",children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{className:"text-xl text-center",children:"Your Latest Plant"})}),(0,a.jsx)(i.Wu,{className:"flex flex-col items-center justify-center text-center min-h-[260px]",children:m?(0,a.jsxs)(h(),{href:"/room",className:"flex flex-col items-center gap-2 transition-transform hover:scale-105",children:[(0,a.jsx)("div",{className:"w-48 h-48 rounded-lg overflow-hidden border-2 border-primary/30 shadow-md",children:"placeholder"!==m.image?(0,a.jsx)(f.default,{src:m.image,alt:m.name,width:192,height:192,className:"object-cover w-full h-full","data-ai-hint":m.hint}):(0,a.jsx)("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:(0,a.jsx)(c.A,{className:"w-16 h-16 text-muted-foreground"})})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-primary",children:m.name}),(0,a.jsx)("div",{className:"w-4/5",children:(0,a.jsx)(N.k,{value:m.xp/1e3*100,className:"h-2"})})]}):(0,a.jsx)("p",{className:"text-muted-foreground",children:"No plants collected yet. Time to draw one!"})})]}),(0,a.jsx)(i.Zp,{className:"shadow-sm",children:(0,a.jsxs)(i.Wu,{className:"flex flex-col items-center gap-4 pt-6",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-3",children:Array.from({length:y.RY}).map((e,r)=>{let s=r<t.draws;return(0,a.jsx)("div",{className:(0,w.cn)("h-8 w-8 rounded-full flex items-center justify-center text-white shadow-inner",s?"bg-green-500":"bg-red-500"),children:s?(0,a.jsx)(u,{className:"h-5 w-5"}):(0,a.jsx)(p.A,{className:"h-5 w-5"})},r)})}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center",children:(0,a.jsx)("span",{children:"Draws Available"})})]}),(0,a.jsx)(s.$,{onClick:_,disabled:C||t.draws<=0,size:"lg",className:"w-full rounded-full mt-2",children:C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Drawing..."]}):"Draw New Plant"})]})})]}),(0,a.jsx)(P,{plant:T,open:!!T,onOpenChange:e=>{e||S()}})]}):(0,a.jsx)("div",{className:"flex h-screen w-full items-center justify-center",children:(0,a.jsx)(n.A,{className:"h-8 w-8 animate-spin text-primary"})})}},77030:e=>{"use strict";e.exports=require("node:net")},77598:e=>{"use strict";e.exports=require("node:crypto")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79748:e=>{"use strict";e.exports=require("fs/promises")},81077:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var a=r(60687),s=r(85814),i=r.n(s),n=r(16189),o=r(24026),l=r(70653),d=r(41999),c=r(53597),u=r(4780),p=r(86632);let m=[{href:"/home",label:"Home",icon:o.A},{href:"/room",label:"Room",icon:l.A},{href:"/shop",label:"Shop",icon:d.A},{href:"/community",label:"Community",icon:c.A}];function h(){let e=(0,n.usePathname)(),{playSfx:t}=(0,p.G)(),r=()=>{t("tap")};return(0,a.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 h-20 border-t bg-card/95 backdrop-blur-sm z-10",children:(0,a.jsx)("div",{className:"mx-auto grid h-full max-w-md grid-cols-4 items-center",children:m.map(t=>{let s=e.startsWith(t.href);return(0,a.jsxs)(i(),{href:t.href,onClick:r,className:"flex flex-col items-center justify-center gap-1 h-full",children:[(0,a.jsx)("div",{className:(0,u.cn)("flex items-center justify-center p-2 rounded-lg transition-colors",s?"bg-accent":"bg-transparent"),children:(0,a.jsx)(t.icon,{className:(0,u.cn)("h-6 w-6",s?"text-accent-foreground":"text-muted-foreground")})}),(0,a.jsx)("span",{className:(0,u.cn)("text-xs font-medium",s?"text-accent-foreground":"text-muted-foreground"),children:t.label})]},t.href)})})})}},81202:(e,t,r)=>{Promise.resolve().then(r.bind(r,97551))},81630:e=>{"use strict";e.exports=require("http")},84297:e=>{"use strict";e.exports=require("async_hooks")},89708:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=r(65239),s=r(48088),i=r(88170),n=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["(app)",{children:["home",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,97551)),"/home/user/studio/src/app/(app)/home/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,70718)),"/home/user/studio/src/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/(app)/home/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(app)/home/page",pathname:"/home",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},95427:(e,t,r)=>{"use strict";r.d(t,{ai:()=>i});var a=r(37612),s=r(56758);let i=(0,a.genkit)({plugins:[(0,s.YF)({apiKey:process.env.GOOGLE_API_KEY})],model:"googleai/gemini-2.0-flash"})},97551:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/(app)/home/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/(app)/home/page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[447,567,711,814,546,474,669,281],()=>r(89708));module.exports=a})();