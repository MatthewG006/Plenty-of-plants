"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[35],{1834:(e,t,a)=>{a.d(t,{Cf:()=>f,Es:()=>m,HM:()=>c,L3:()=>g,c7:()=>p,lG:()=>i,rr:()=>h});var r=a(5155),s=a(2115),l=a(3409),n=a(5229),o=a(4269);let i=l.bL;l.l9;let d=l.ZL,c=l.bm,u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.hJ,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});u.displayName=l.hJ.displayName;let f=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(l.UC,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[s,(0,r.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(n.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=l.UC.displayName;let p=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};p.displayName="DialogHeader";let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};m.displayName="DialogFooter";let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.hE,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});g.displayName=l.hE.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.VY,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...s})});h.displayName=l.VY.displayName},2739:(e,t,a)=>{a.d(t,{By:()=>u,Gz:()=>f,JD:()=>c,LH:()=>i,XU:()=>g,dt:()=>n,hJ:()=>o,oe:()=>p,yn:()=>m});var r=a(9708),s=a(4585),l=a(9285);let n={dailyLogin:{id:"dailyLogin",title:"Daily Login",description:"Log in each day to claim a bonus!",target:1,reward:20},collectPlants:{id:"collectPlants",title:"Plant Collector",description:"Collect 3 new plants.",target:3,reward:5},waterPlants:{id:"waterPlants",title:"Green Thumb",description:"Water your plants 5 times.",target:5,reward:5},evolvePlant:{id:"evolvePlant",title:"Evolutionist",description:"Evolve 1 of your plants.",target:1,reward:10}},o={waterEvolved:{id:"waterEvolved",title:"Advanced Care",description:"Water 5 evolved plants.",target:5,reward:15},collectMorePlants:{id:"collectMorePlants",title:"Master Collector",description:"Add 2 more plants to your collection.",target:2,reward:15},likePlayer:{id:"likePlayer",title:"Community Spirit",description:"Like another player's collection.",target:1,reward:20},applySheen:{id:"applySheen",title:"Shine On",description:"Apply a sheen pack to a plant.",target:1,reward:25}};async function i(e){let t=await (0,l.Uc)(e);if(!t)return;let a=Date.now();if(a-(t.challengesStartDate||0)>864e5){let t=(0,r.H9)(s.db,"users",e);await (0,r.mZ)(t,{challenges:{},challengesStartDate:a})}}async function d(e,t){var a;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,d=(0,r.H9)(s.db,"users",e),c=await (0,l.Uc)(e);if(!c||Date.now()-(c.challengesStartDate||0)>864e5)return;let u={...n,...o}[t];if(!u)return;let f=null==(a=c.challenges)?void 0:a[t];f&&(f.claimed||f.progress>=u.target)||await (0,r.mZ)(d,{["challenges.".concat(t,".progress")]:(0,r.GV)(i)})}let c=e=>{d(e,"collectPlants"),d(e,"collectMorePlants")},u=e=>d(e,"likePlayer"),f=e=>d(e,"applyGlitter"),p=e=>d(e,"applySheen"),m=async e=>{var t;let a=await (0,l.Uc)(e);if(!a)return;let n=null==(t=a.challenges)?void 0:t.dailyLogin;if(!n||n.progress<1){let t=(0,r.H9)(s.db,"users",e);await (0,r.mZ)(t,{"challenges.dailyLogin.progress":1})}};async function g(e,t){var a;let i=(0,r.H9)(s.db,"users",e),d=await (0,l.Uc)(e);if(!d)throw Error("User data not found.");let c={...n,...o}[t],u=null==(a=d.challenges)?void 0:a[t];if(!c||!u)throw Error("Challenge not found.");if(u.claimed)throw Error("Reward already claimed.");if(u.progress<c.target)throw Error("Challenge not yet complete.");await (0,r.mZ)(i,{gold:(0,r.GV)(c.reward),["challenges.".concat(t,".claimed")]:!0})}},3998:(e,t,a)=>{a.d(t,{$:()=>d,r:()=>i});var r=a(5155),s=a(2115),l=a(7129),n=a(3101),o=a(4269);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:d=!1,...c}=e,u=d?l.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(i({variant:s,size:n,className:a})),ref:t,...c})});d.displayName="Button"},4901:(e,t,a)=>{a.d(t,{A:()=>u,O:()=>c});var r=a(5155),s=a(2115),l=a(9253),n=a(4585),o=a(9708),i=a(9285);let d=(0,s.createContext)({user:null,gameData:null,loading:!0}),c=e=>{let{children:t}=e,[a,c]=(0,s.useState)(null),[u,f]=(0,s.useState)(null),[p,m]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=(0,l.hg)(n.j,async e=>{c(e),e||(f(null),m(!1))});return()=>e()},[]),(0,s.useEffect)(()=>{if(a){let e=(0,o.H9)(n.db,"users",a.uid),t=(0,o.aQ)(e,e=>{e.exists()?f(e.data()):(0,i.Jt)(a).then(e=>{f(e)}),m(!1)},e=>{console.error("Firestore subscription error:",e),f(null),m(!1)});return()=>t()}},[a]),(0,r.jsx)(d.Provider,{value:{user:a,gameData:u,loading:p},children:t})},u=()=>(0,s.useContext)(d)},5894:(e,t,a)=>{a.d(t,{dj:()=>u});var r=a(2115);let s=0,l=new Map,n=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},o=[],i={toasts:[]};function d(e){i=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(i,e),o.forEach(e=>{e(i)})}function c(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=r.useState(i);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},6948:(e,t,a)=>{a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>i,Zp:()=>n,aR:()=>o,wL:()=>u});var r=a(5155),s=a(2115),l=a(4269);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});n.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});i.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},9689:(e,t,a)=>{a.d(t,{G:()=>n,n:()=>o});var r=a(5155),s=a(2115);let l=(0,s.createContext)(void 0),n=e=>{let{children:t}=e,[a,n]=(0,s.useState)(()=>{{let e=localStorage.getItem("sfxVolume");return null!==e?parseFloat(e):.75}}),[o,i]=(0,s.useState)(()=>{{let e=localStorage.getItem("musicVolume");return null!==e?parseFloat(e):.2}}),[d,c]=(0,s.useState)(!1),u=(0,s.useRef)(null),f={tap:(0,s.useRef)(null),success:(0,s.useRef)(null),reward:(0,s.useRef)(null),chime:(0,s.useRef)(null),watering:(0,s.useRef)(null)};(0,s.useEffect)(()=>{u.current=new Audio("/music.mp3"),u.current.loop=!0,f.tap.current=new Audio("/sfx/tap.mp3"),f.success.current=new Audio("/sfx/success.mp3"),f.reward.current=new Audio("/sfx/reward.mp3"),f.chime.current=new Audio("/sfx/chime.mp3"),f.watering.current=new Audio("/sfx/watering.mp3")},[]),(0,s.useEffect)(()=>{u.current&&(u.current.volume=o),localStorage.setItem("musicVolume",String(o))},[o]);let p=(0,s.useCallback)(()=>{u.current&&u.current.paused&&u.current.play().then(()=>{c(!0)}).catch(e=>console.error("Music play failed on start:",e))},[]),m=(0,s.useCallback)(()=>{u.current&&(d?u.current.pause():u.current.play().catch(e=>console.error("Music play failed on toggle:",e)),c(!d))},[d]),g=(0,s.useCallback)(e=>{let t=f[e].current;t&&(t.volume=a,t.currentTime=0,t.play().catch(e=>console.error("SFX play failed",e)))},[a,f]);return(0,r.jsx)(l.Provider,{value:{sfxVolume:a,setSfxVolume:e=>{n(e),localStorage.setItem("sfxVolume",String(e))},musicVolume:o,setMusicVolume:e=>{i(e)},isMusicPlaying:d,toggleMusic:m,startMusic:p,playSfx:g},children:t})},o=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAudio must be used within an AudioProvider");return e}}}]);