(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{996:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(5155),a=r(4901),l=r(63),n=r(2115);function u(){return(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background",children:(0,s.jsx)("div",{className:"h-16 w-16 animate-spin rounded-full border-b-2 border-t-2 border-primary"})})}function i(e){let{children:t}=e,{user:r,loading:i}=(0,a.A)(),c=(0,l.useRouter)();return((0,n.useEffect)(()=>{!i&&r&&c.push("/")},[r,i,c]),i||r)?(0,s.jsx)(u,{}):(0,s.jsx)(s.Fragment,{children:t})}},1847:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var s=r(2115);let a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:u=2,absoluteStrokeWidth:i,className:c="",children:o,iconNode:d,...m}=e;return(0,s.createElement)("svg",{ref:t,...l,width:n,height:n,stroke:r,strokeWidth:i?24*Number(u)/Number(n):u,className:a("lucide",c),...m},[...d.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),u=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:u,...i}=r;return(0,s.createElement)(n,{ref:l,iconNode:t,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),u),...i})});return r.displayName="".concat(e),r}},4901:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,O:()=>o});var s=r(5155),a=r(2115),l=r(9253),n=r(4585),u=r(9708),i=r(9285);let c=(0,a.createContext)({user:null,gameData:null,loading:!0}),o=e=>{let{children:t}=e,[r,o]=(0,a.useState)(null),[d,m]=(0,a.useState)(null),[f,p]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,l.hg)(n.j,async e=>{o(e),e||(m(null),p(!1))});return()=>e()},[]),(0,a.useEffect)(()=>{if(r){let e=(0,u.H9)(n.db,"users",r.uid),t=(0,u.aQ)(e,e=>{e.exists()?m(e.data()):(0,i.Jt)(r).then(e=>{m(e)}),p(!1)},e=>{console.error("Firestore subscription error:",e),m(null),p(!1)});return()=>t()}},[r]),(0,s.jsx)(c.Provider,{value:{user:r,gameData:d,loading:f},children:t})},d=()=>(0,a.useContext)(c)},6372:(e,t,r)=>{Promise.resolve().then(r.bind(r,9991)),Promise.resolve().then(r.bind(r,996))},9689:(e,t,r)=>{"use strict";r.d(t,{G:()=>n,n:()=>u});var s=r(5155),a=r(2115);let l=(0,a.createContext)(void 0),n=e=>{let{children:t}=e,[r,n]=(0,a.useState)(()=>{{let e=localStorage.getItem("sfxVolume");return null!==e?parseFloat(e):.75}}),[u,i]=(0,a.useState)(()=>{{let e=localStorage.getItem("musicVolume");return null!==e?parseFloat(e):.2}}),[c,o]=(0,a.useState)(!1),d=(0,a.useRef)(null),m={tap:(0,a.useRef)(null),success:(0,a.useRef)(null),reward:(0,a.useRef)(null),chime:(0,a.useRef)(null),watering:(0,a.useRef)(null)};(0,a.useEffect)(()=>{d.current=new Audio("/music.mp3"),d.current.loop=!0,m.tap.current=new Audio("/sfx/tap.mp3"),m.success.current=new Audio("/sfx/success.mp3"),m.reward.current=new Audio("/sfx/reward.mp3"),m.chime.current=new Audio("/sfx/chime.mp3"),m.watering.current=new Audio("/sfx/watering.mp3")},[]),(0,a.useEffect)(()=>{d.current&&(d.current.volume=u),localStorage.setItem("musicVolume",String(u))},[u]);let f=(0,a.useCallback)(()=>{d.current&&d.current.paused&&d.current.play().then(()=>{o(!0)}).catch(e=>console.error("Music play failed on start:",e))},[]),p=(0,a.useCallback)(()=>{d.current&&(c?d.current.pause():d.current.play().catch(e=>console.error("Music play failed on toggle:",e)),o(!c))},[c]),h=(0,a.useCallback)(e=>{let t=m[e].current;t&&(t.volume=r,t.currentTime=0,t.play().catch(e=>console.error("SFX play failed",e)))},[r,m]);return(0,s.jsx)(l.Provider,{value:{sfxVolume:r,setSfxVolume:e=>{n(e),localStorage.setItem("sfxVolume",String(e))},musicVolume:u,setMusicVolume:e=>{i(e)},isMusicPlaying:c,toggleMusic:p,startMusic:f,playSfx:h},children:t})},u=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useAudio must be used within an AudioProvider");return e}},9991:(e,t,r)=>{"use strict";r.d(t,{default:()=>N});var s=r(5155),a=r(2115),l=r(63),n=r(9253),u=r(4585),i=r(3998),c=r(5142),o=r(6444),d=r(6948),m=r(5894),f=r(2619),p=r.n(f),h=r(9689),x=r(3101),g=r(4269);let v=(0,x.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),w=a.forwardRef((e,t)=>{let{className:r,variant:a,...l}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,g.cn)(v({variant:a}),r),...l})});w.displayName="Alert";let b=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,g.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})});b.displayName="AlertTitle";let y=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,g.cn)("text-sm [&_p]:leading-relaxed",r),...a})});y.displayName="AlertDescription";let j=(0,r(1847).A)("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);function N(){let[e,t]=(0,a.useState)(""),[r,f]=(0,a.useState)(""),x=(0,l.useRouter)(),{toast:g}=(0,m.dj)(),[v,N]=(0,a.useState)(!1),{startMusic:k}=(0,h.n)(),A=async t=>{t.preventDefault(),N(!0);try{await (0,n.x9)(u.j,e,r),k(),x.push("/home")}catch(e){g({title:"Login Failed",description:e.message.replace("Firebase: ",""),variant:"destructive"})}finally{N(!1)}};return(0,s.jsx)("main",{className:"flex min-h-screen items-center justify-center bg-splash-image p-4",children:(0,s.jsxs)(d.Zp,{className:"w-full max-w-md shadow-lg bg-background/90 backdrop-blur-sm",children:[(0,s.jsxs)(d.aR,{className:"text-center",children:[(0,s.jsxs)(w,{className:"mb-4 bg-accent/80 border-primary/20",children:[(0,s.jsx)(j,{className:"h-4 w-4"}),(0,s.jsx)(b,{className:"font-bold text-primary",children:"New Update!"}),(0,s.jsx)(y,{children:"The real-time Plant Beauty Contest is now live! Visit the Park to compete."})]}),(0,s.jsx)(d.ZB,{className:"text-3xl font-headline text-primary",children:"Welcome Back!"}),(0,s.jsx)(d.BT,{children:"Log in to tend to your plants."})]}),(0,s.jsxs)(d.Wu,{children:[(0,s.jsxs)("form",{onSubmit:A,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{htmlFor:"email",children:"Email"}),(0,s.jsx)(c.p,{id:"email",type:"email",placeholder:"you@example.com",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.J,{htmlFor:"password",children:"Password"}),(0,s.jsx)(c.p,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:e=>f(e.target.value),required:!0})]}),(0,s.jsx)(i.$,{type:"submit",className:"w-full",disabled:v,children:v?"Logging in...":"Log In"})]}),(0,s.jsxs)("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",(0,s.jsx)(p(),{href:"/signup",className:"font-medium text-primary hover:underline",children:"Sign Up"})]})]})]})})}}},e=>{e.O(0,[992,416,909,382,619,560,625,441,255,358],()=>e(e.s=6372)),_N_E=e.O()}]);