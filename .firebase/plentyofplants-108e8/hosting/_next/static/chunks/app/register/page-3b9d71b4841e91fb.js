(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{996:(e,s,r)=>{"use strict";r.d(s,{default:()=>c});var t=r(5155),a=r(4901),n=r(63),l=r(2115);function i(){return(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-background",children:(0,t.jsx)("div",{className:"h-16 w-16 animate-spin rounded-full border-b-2 border-t-2 border-primary"})})}function c(e){let{children:s}=e,{user:r,loading:c}=(0,a.A)(),d=(0,n.useRouter)();return((0,l.useEffect)(()=>{!c&&r&&d.push("/")},[r,c,d]),c||r)?(0,t.jsx)(i,{}):(0,t.jsx)(t.Fragment,{children:s})}},4901:(e,s,r)=>{"use strict";r.d(s,{A:()=>o,O:()=>u});var t=r(5155),a=r(2115),n=r(9253),l=r(4585),i=r(9708),c=r(9285);let d=(0,a.createContext)({user:null,gameData:null,loading:!0}),u=e=>{let{children:s}=e,[r,u]=(0,a.useState)(null),[o,m]=(0,a.useState)(null),[h,x]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,n.hg)(l.j,async e=>{u(e),e||(m(null),x(!1))});return()=>e()},[]),(0,a.useEffect)(()=>{if(r){let e=(0,i.H9)(l.db,"users",r.uid),s=(0,i.aQ)(e,e=>{e.exists()?m(e.data()):(0,c.Jt)(r).then(e=>{m(e)}),x(!1)},e=>{console.error("Firestore subscription error:",e),m(null),x(!1)});return()=>s()}},[r]),(0,t.jsx)(d.Provider,{value:{user:r,gameData:o,loading:h},children:s})},o=()=>(0,a.useContext)(d)},6037:(e,s,r)=>{"use strict";r.d(s,{default:()=>p});var t=r(5155),a=r(2115),n=r(63),l=r(9253),i=r(4585),c=r(3998),d=r(5142),u=r(6444),o=r(6948),m=r(5894),h=r(2619),x=r.n(h);function p(){let[e,s]=(0,a.useState)(""),[r,h]=(0,a.useState)(""),[p,f]=(0,a.useState)(""),j=(0,n.useRouter)(),{toast:v}=(0,m.dj)(),[g,y]=(0,a.useState)(!1),b=async s=>{if(s.preventDefault(),r!==p)return void v({title:"Registration Failed",description:"Passwords do not match.",variant:"destructive"});y(!0);try{await (0,l.eJ)(i.j,e,r),j.push("/")}catch(e){v({title:"Registration Failed",description:e.message.replace("Firebase: ",""),variant:"destructive"})}finally{y(!1)}};return(0,t.jsx)("main",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:(0,t.jsxs)(o.Zp,{className:"w-full max-w-md shadow-lg",children:[(0,t.jsxs)(o.aR,{className:"text-center",children:[(0,t.jsx)(o.ZB,{className:"text-3xl font-headline",children:"AuthZen"}),(0,t.jsx)(o.BT,{children:"Create your account"})]}),(0,t.jsxs)(o.Wu,{children:[(0,t.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.J,{htmlFor:"email",children:"Email"}),(0,t.jsx)(d.p,{id:"email",type:"email",placeholder:"you@example.com",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.J,{htmlFor:"password",children:"Password"}),(0,t.jsx)(d.p,{id:"password",type:"password",placeholder:"••••••••",value:r,onChange:e=>h(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.J,{htmlFor:"confirm-password",children:"Confirm Password"}),(0,t.jsx)(d.p,{id:"confirm-password",type:"password",placeholder:"••••••••",value:p,onChange:e=>f(e.target.value),required:!0})]}),(0,t.jsx)(c.$,{type:"submit",className:"w-full",disabled:g,children:g?"Creating account...":"Register"})]}),(0,t.jsxs)("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,t.jsx)(x(),{href:"/login",className:"font-medium text-primary hover:underline",children:"Log In"})]})]})]})})}},9204:(e,s,r)=>{Promise.resolve().then(r.bind(r,6037)),Promise.resolve().then(r.bind(r,996))}},e=>{e.O(0,[992,416,909,382,619,560,625,441,255,358],()=>e(e.s=9204)),_N_E=e.O()}]);